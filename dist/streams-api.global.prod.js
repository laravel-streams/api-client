var streamsApi=function(t,e){"use strict";function r(t){return t&&"object"==typeof t&&"default"in t?t:{default:t}}var n,i,o=r(e),s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */
function a(t,e,r,n){return new(r||(r=Promise))((function(i,o){function s(t){try{c(n.next(t))}catch(e){o(e)}}function a(t){try{c(n.throw(t))}catch(e){o(e)}}function c(t){var e;t.done?i(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(s,a)}c((n=n.apply(t,e||[])).next())}))}function c(t,e,r,n){if("a"===r&&!n)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===r?n:"a"===r?n.call(t):n?n.value:e.get(t)}function u(t,e,r,n,i){if("m"===n)throw new TypeError("Private method is not writable");if("a"===n&&!i)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===n?i.call(t,r):i?i.value=r:e.set(t,r),r}!function(t){!function(e){var r="object"==typeof s?s:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(t);function i(t,e){return function(r,n){"function"!=typeof t[r]&&Object.defineProperty(t,r,{configurable:!0,writable:!0,value:n}),e&&e(r,n)}}void 0===r.Reflect?r.Reflect=t:n=i(r.Reflect,n),function(t){var e=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,s={__proto__:[]}instanceof Array,a=!o&&!s,c={create:o?function(){return nt(Object.create(null))}:s?function(){return nt({__proto__:null})}:function(){return nt({})},has:a?function(t,r){return e.call(t,r)}:function(t,e){return e in t},get:a?function(t,r){return e.call(t,r)?t[r]:void 0}:function(t,e){return t[e]}},u=Object.getPrototypeOf(Function),p="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=p||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?tt():Map,f=p||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?et():Set,h=new(p||"function"!=typeof WeakMap?rt():WeakMap);function y(t,e,r,n){if(F(r)){if(!B(t))throw new TypeError;if(!J(e))throw new TypeError;return O(t,e)}if(!B(t))throw new TypeError;if(!C(e))throw new TypeError;if(!C(n)&&!F(n)&&!N(n))throw new TypeError;return N(n)&&(n=void 0),S(t,e,r=L(r),n)}function m(t,e){function r(r,n){if(!C(r))throw new TypeError;if(!F(n)&&!G(n))throw new TypeError;$(t,e,r,n)}return r}function d(t,e,r,n){if(!C(r))throw new TypeError;return F(n)||(n=L(n)),$(t,e,r,n)}function v(t,e,r){if(!C(e))throw new TypeError;return F(r)||(r=L(r)),k(t,e,r)}function g(t,e,r){if(!C(e))throw new TypeError;return F(r)||(r=L(r)),E(t,e,r)}function b(t,e,r){if(!C(e))throw new TypeError;return F(r)||(r=L(r)),P(t,e,r)}function w(t,e,r){if(!C(e))throw new TypeError;return F(r)||(r=L(r)),R(t,e,r)}function x(t,e){if(!C(t))throw new TypeError;return F(e)||(e=L(e)),I(t,e)}function j(t,e){if(!C(t))throw new TypeError;return F(e)||(e=L(e)),T(t,e)}function A(t,e,r){if(!C(e))throw new TypeError;F(r)||(r=L(r));var n=_(e,r,!1);if(F(n))return!1;if(!n.delete(t))return!1;if(n.size>0)return!0;var i=h.get(e);return i.delete(r),i.size>0||h.delete(e),!0}function O(t,e){for(var r=t.length-1;r>=0;--r){var n=(0,t[r])(e);if(!F(n)&&!N(n)){if(!J(n))throw new TypeError;e=n}}return e}function S(t,e,r,n){for(var i=t.length-1;i>=0;--i){var o=(0,t[i])(e,r,n);if(!F(o)&&!N(o)){if(!C(o))throw new TypeError;n=o}}return n}function _(t,e,r){var n=h.get(t);if(F(n)){if(!r)return;n=new l,h.set(t,n)}var i=n.get(e);if(F(i)){if(!r)return;i=new l,n.set(e,i)}return i}function k(t,e,r){if(E(t,e,r))return!0;var n=Z(e);return!N(n)&&k(t,n,r)}function E(t,e,r){var n=_(e,r,!1);return!F(n)&&U(n.has(t))}function P(t,e,r){if(E(t,e,r))return R(t,e,r);var n=Z(e);return N(n)?void 0:P(t,n,r)}function R(t,e,r){var n=_(e,r,!1);if(!F(n))return n.get(t)}function $(t,e,r,n){_(r,n,!0).set(t,e)}function I(t,e){var r=T(t,e),n=Z(t);if(null===n)return r;var i=I(n,e);if(i.length<=0)return r;if(r.length<=0)return i;for(var o=new f,s=[],a=0,c=r;a<c.length;a++){o.has(l=c[a])||(o.add(l),s.push(l))}for(var u=0,p=i;u<p.length;u++){var l;o.has(l=p[u])||(o.add(l),s.push(l))}return s}function T(t,e){var r=[],n=_(t,e,!1);if(F(n))return r;for(var i=V(n.keys()),o=0;;){var s=X(i);if(!s)return r.length=o,r;var a=Q(s);try{r[o]=a}catch(c){try{Y(i)}finally{throw c}}o++}}function M(t){if(null===t)return 1;switch(typeof t){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===t?1:6;default:return 6}}function F(t){return void 0===t}function N(t){return null===t}function D(t){return"symbol"==typeof t}function C(t){return"object"==typeof t?null!==t:"function"==typeof t}function W(t,e){switch(M(t)){case 0:case 1:case 2:case 3:case 4:case 5:return t}var r=3===e?"string":5===e?"number":"default",i=K(t,n);if(void 0!==i){var o=i.call(t,r);if(C(o))throw new TypeError;return o}return q(t,"default"===r?"number":r)}function q(t,e){if("string"===e){var r=t.toString;if(H(r))if(!C(i=r.call(t)))return i;if(H(n=t.valueOf))if(!C(i=n.call(t)))return i}else{var n;if(H(n=t.valueOf))if(!C(i=n.call(t)))return i;var i,o=t.toString;if(H(o))if(!C(i=o.call(t)))return i}throw new TypeError}function U(t){return!!t}function z(t){return""+t}function L(t){var e=W(t,3);return D(e)?e:z(e)}function B(t){return Array.isArray?Array.isArray(t):t instanceof Object?t instanceof Array:"[object Array]"===Object.prototype.toString.call(t)}function H(t){return"function"==typeof t}function J(t){return"function"==typeof t}function G(t){switch(M(t)){case 3:case 4:return!0;default:return!1}}function K(t,e){var r=t[e];if(null!=r){if(!H(r))throw new TypeError;return r}}function V(t){var e=K(t,i);if(!H(e))throw new TypeError;var r=e.call(t);if(!C(r))throw new TypeError;return r}function Q(t){return t.value}function X(t){var e=t.next();return!e.done&&e}function Y(t){var e=t.return;e&&e.call(t)}function Z(t){var e=Object.getPrototypeOf(t);if("function"!=typeof t||t===u)return e;if(e!==u)return e;var r=t.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return e;var i=n.constructor;return"function"!=typeof i||i===t?e:i}function tt(){var t={},e=[],r=function(){function t(t,e,r){this._index=0,this._keys=t,this._values=e,this._selector=r}return t.prototype["@@iterator"]=function(){return this},t.prototype[i]=function(){return this},t.prototype.next=function(){var t=this._index;if(t>=0&&t<this._keys.length){var r=this._selector(this._keys[t],this._values[t]);return t+1>=this._keys.length?(this._index=-1,this._keys=e,this._values=e):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},t.prototype.throw=function(t){throw this._index>=0&&(this._index=-1,this._keys=e,this._values=e),t},t.prototype.return=function(t){return this._index>=0&&(this._index=-1,this._keys=e,this._values=e),{value:t,done:!0}},t}();return function(){function e(){this._keys=[],this._values=[],this._cacheKey=t,this._cacheIndex=-2}return Object.defineProperty(e.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),e.prototype.has=function(t){return this._find(t,!1)>=0},e.prototype.get=function(t){var e=this._find(t,!1);return e>=0?this._values[e]:void 0},e.prototype.set=function(t,e){var r=this._find(t,!0);return this._values[r]=e,this},e.prototype.delete=function(e){var r=this._find(e,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,e===this._cacheKey&&(this._cacheKey=t,this._cacheIndex=-2),!0}return!1},e.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=t,this._cacheIndex=-2},e.prototype.keys=function(){return new r(this._keys,this._values,n)},e.prototype.values=function(){return new r(this._keys,this._values,o)},e.prototype.entries=function(){return new r(this._keys,this._values,s)},e.prototype["@@iterator"]=function(){return this.entries()},e.prototype[i]=function(){return this.entries()},e.prototype._find=function(t,e){return this._cacheKey!==t&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=t)),this._cacheIndex<0&&e&&(this._cacheIndex=this._keys.length,this._keys.push(t),this._values.push(void 0)),this._cacheIndex},e}();function n(t,e){return t}function o(t,e){return e}function s(t,e){return[t,e]}}function et(){return function(){function t(){this._map=new l}return Object.defineProperty(t.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),t.prototype.has=function(t){return this._map.has(t)},t.prototype.add=function(t){return this._map.set(t,t),this},t.prototype.delete=function(t){return this._map.delete(t)},t.prototype.clear=function(){this._map.clear()},t.prototype.keys=function(){return this._map.keys()},t.prototype.values=function(){return this._map.values()},t.prototype.entries=function(){return this._map.entries()},t.prototype["@@iterator"]=function(){return this.keys()},t.prototype[i]=function(){return this.keys()},t}()}function rt(){var t=16,r=c.create(),n=i();return function(){function t(){this._key=i()}return t.prototype.has=function(t){var e=o(t,!1);return void 0!==e&&c.has(e,this._key)},t.prototype.get=function(t){var e=o(t,!1);return void 0!==e?c.get(e,this._key):void 0},t.prototype.set=function(t,e){return o(t,!0)[this._key]=e,this},t.prototype.delete=function(t){var e=o(t,!1);return void 0!==e&&delete e[this._key]},t.prototype.clear=function(){this._key=i()},t}();function i(){var t;do{t="@@WeakMap@@"+u()}while(c.has(r,t));return r[t]=!0,t}function o(t,r){if(!e.call(t,n)){if(!r)return;Object.defineProperty(t,n,{value:c.create()})}return t[n]}function s(t,e){for(var r=0;r<e;++r)t[r]=255*Math.random()|0;return t}function a(t){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(t)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(t)):s(new Uint8Array(t),t):s(new Array(t),t)}function u(){var e=a(t);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var r="",n=0;n<t;++n){var i=e[n];4!==n&&6!==n&&8!==n||(r+="-"),i<16&&(r+="0"),r+=i.toString(16).toLowerCase()}return r}}function nt(t){return t.__=void 0,delete t.__,t}t("decorate",y),t("metadata",m),t("defineMetadata",d),t("hasMetadata",v),t("hasOwnMetadata",g),t("getMetadata",b),t("getOwnMetadata",w),t("getMetadataKeys",x),t("getOwnMetadataKeys",j),t("deleteMetadata",A)}(n)}()}(n||(n={}));const p=t=>t&&void 0!==t.type;class l{constructor(t){i.set(this,void 0),delete t.__listeners,delete t.__observers,u(this,i,t,"f");const e=this;return new Proxy(this,{get:(t,r,n)=>"function"==typeof e[r.toString()]?e[r.toString()].bind(e):Reflect.has(c(t,i,"f"),r)?Reflect.get(c(t,i,"f"),r):Reflect.has(t,r)?Reflect.get(t,r,n):void 0,set:(t,e,r,n)=>Reflect.has(t,e)?Reflect.set(t,e,r,n):Reflect.set(c(t,i,"f"),e,r)})}serialize(){return c(this,i,"f")}}var f,h,y;i=new WeakMap;class m{constructor(t,e={},r=!0){f.set(this,void 0),h.set(this,{}),y.set(this,!0),u(this,f,t,"f"),u(this,h,e,"f"),u(this,y,r,"f");const n=this;return new Proxy(this,{get:(t,e,r)=>"function"==typeof n[e.toString()]?n[e.toString()].bind(n):void 0!==n[e.toString()]?n[e.toString()]:Reflect.has(c(t,h,"f"),e)?Reflect.get(c(t,h,"f"),e):Reflect.has(t,e)?Reflect.get(t,e,r):void 0,set:(t,e,r,n)=>Reflect.has(t,e)?Reflect.set(t,e,r,n):Reflect.set(c(t,h,"f"),e,r)})}getStream(){return c(this,f,"f")}save(){return a(this,void 0,void 0,(function*(){let t=c(this,f,"f").getStreams().http;try{return c(this,y,"f")?(yield t.postEntry(c(this,f,"f").id,c(this,h,"f")),u(this,y,!1,"f"),!0):(yield t.patchEntry(c(this,f,"f").id,c(this,h,"f").id,c(this,h,"f")),!0)}catch(e){return!1}}))}serialize(){return c(this,h,"f")}}f=new WeakMap,h=new WeakMap,y=new WeakMap;var d={exports:{}},v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},g={isArray:function(t){return Array.isArray(t)},isObject:function(t){return"object"===(void 0===t?"undefined":v(t))&&!1===Array.isArray(t)&&null!==t},isFunction:function(t){return"function"==typeof t}},b=g.isFunction,w=function(t){return void 0===t?this.sum()/this.items.length:b(t)?new this.constructor(this.items).sum(t)/this.items.length:new this.constructor(this.items).pluck(t).sum()/this.items.length},x=w,j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var A=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(c){i=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var S=function(t){var e,r=void 0;Array.isArray(t)?(e=r=[]).push.apply(e,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(t)):(r={},Object.keys(t).forEach((function(e){r[e]=t[e]})));return r},_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k=S;function E(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var P=function(t){var e=[];return Array.isArray(t)?e.push.apply(e,E(t)):"Collection"===t.constructor.name?e.push.apply(e,E(t.all())):Object.keys(t).forEach((function(r){return e.push(t[r])})),e};var R=P,$=g.isFunction,I=function(t,e){if(void 0!==e)return Array.isArray(this.items)?this.items.filter((function(r){return void 0!==r[t]&&r[t]===e})).length>0:void 0!==this.items[t]&&this.items[t]===e;if($(t))return this.items.filter((function(e,r){return t(e,r)})).length>0;if(Array.isArray(this.items))return-1!==this.items.indexOf(t);var r=R(this.items);return r.push.apply(r,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(Object.keys(this.items))),-1!==r.indexOf(t)},T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};var M=P,F=function(t){return Array.isArray(t[0])?t[0]:t},N=F,D="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function C(t){if(Array.isArray(t)){if(t.length)return!1}else if(null!=t&&"object"===(void 0===t?"undefined":D(t))){if(Object.keys(t).length)return!1}else if(t)return!1;return!0}var W=g.isFunction,q=g.isArray,U=g.isObject,z=g.isFunction,L=function(t,e){try{return e.split(".").reduce((function(t,e){return t[e]}),t)}catch(r){return t}},B=L,H=g.isFunction,J=F,G=L,K=g.isFunction,V=g.isFunction;var Q=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(c){i=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},X=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(c){i=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")},Y=function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var r=[],n=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(n=(s=a.next()).done)&&(r.push(s.value),!e||r.length!==e);n=!0);}catch(c){i=!0,o=c}finally{try{!n&&a.return&&a.return()}finally{if(i)throw o}}return r}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")};function Z(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function et(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var rt=P,nt=F,it=S,ot=g.isArray,st=g.isObject,at=L,ct=F,ut=function(t){for(var e=arguments.length,r=Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];ct(r).forEach((function(e){delete t[e]}))},pt=g.isArray,lt=g.isObject,ft=ut,ht=g.isFunction,yt=P,mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},dt=g.isArray,vt=g.isObject,gt=g.isFunction,bt=g.isArray,wt=g.isObject,xt=ut,jt=P,At=g.isObject,Ot=g.isArray,St=g.isObject,_t=g.isFunction,kt=g.isArray,Et=g.isObject,Pt=g.isFunction,Rt=I,$t=L,It=g.isFunction,Tt=P,Mt=g.isFunction,Ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nt=g.isArray,Dt=g.isObject,Ct=g.isFunction,Wt=g.isArray,qt=g.isObject,Ut=g.isFunction,zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Lt=function(t,e){if(Array.isArray(this.items)&&this.items.length)return t(this);if(Object.keys(this.items).length)return t(this);if(void 0!==e){if(Array.isArray(this.items)&&!this.items.length)return e(this);if(!Object.keys(this.items).length)return e(this)}return this},Bt=function(t,e){if(Array.isArray(this.items)&&!this.items.length)return t(this);if(!Object.keys(this.items).length)return t(this);if(void 0!==e){if(Array.isArray(this.items)&&this.items.length)return e(this);if(Object.keys(this.items).length)return e(this)}return this},Ht=g.isFunction,Jt=P,Gt=P,Kt=L,Vt=P,Qt=L,Xt=L,Yt=P,Zt=L,te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};function re(t){this.items=void 0===t||Array.isArray(t)||"object"===(void 0===t?"undefined":ee(t))?t instanceof this.constructor?t.all():t||[]:[t]}"undefined"!=typeof Symbol&&(re.prototype[Symbol.iterator]=function(){var t=this,e=-1;return{next:function(){return{value:t.items[e+=1],done:e>=t.items.length}}}}),re.prototype.toJSON=function(){return this.items},re.prototype.all=function(){return this.items},re.prototype.average=w,re.prototype.avg=x,re.prototype.chunk=function(t){var e=this,r=[],n=0;if(Array.isArray(this.items))do{var i=this.items.slice(n,n+t),o=new this.constructor(i);r.push(o),n+=t}while(n<this.items.length);else if("object"===j(this.items)){var s=Object.keys(this.items),a=function(){var i=s.slice(n,n+t),o=new e.constructor({});i.forEach((function(t){return o.put(t,e.items[t])})),r.push(o),n+=t};do{a()}while(n<s.length)}else r.push(new this.constructor([this.items]));return new this.constructor(r)},re.prototype.collapse=function(){var t;return new this.constructor((t=[]).concat.apply(t,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(this.items)))},re.prototype.combine=function(t){var e=this,r=t;r instanceof this.constructor&&(r=t.all());var n={};if(Array.isArray(this.items)&&Array.isArray(r))this.items.forEach((function(t,e){n[t]=r[e]}));else if("object"===O(this.items)&&"object"===(void 0===r?"undefined":O(r)))Object.keys(this.items).forEach((function(t,i){n[e.items[t]]=r[Object.keys(r)[i]]}));else if(Array.isArray(this.items))n[this.items[0]]=r;else if("string"==typeof this.items&&Array.isArray(r)){var i=A(r,1);n[this.items]=i[0]}else"string"==typeof this.items&&(n[this.items]=r);return new this.constructor(n)},re.prototype.concat=function(t){var e=t;t instanceof this.constructor?e=t.all():"object"===(void 0===t?"undefined":_(t))&&(e=[],Object.keys(t).forEach((function(r){e.push(t[r])})));var r=k(this.items);return e.forEach((function(t){"object"===(void 0===t?"undefined":_(t))?Object.keys(t).forEach((function(e){return r.push(t[e])})):r.push(t)})),new this.constructor(r)},re.prototype.contains=I,re.prototype.count=function(){var t=0;return Array.isArray(this.items)&&(t=this.items.length),Math.max(Object.keys(this.items).length,t)},re.prototype.countBy=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t};return new this.constructor(this.items).groupBy(t).map((function(t){return t.count()}))},re.prototype.crossJoin=function(){function t(e,r,n){var i=n[0];i instanceof r&&(i=i.all());for(var o=n.slice(1),s=!o.length,a=[],c=0;c<i.length;c+=1){var u=e.slice();u.push(i[c]),s?a.push(u):a=a.concat(t(u,r,o))}return a}for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];return new this.constructor(t([],this.constructor,[].concat([this.items],r)))},re.prototype.dd=function(){this.dump(),"undefined"!=typeof process&&process.exit(1)},re.prototype.diff=function(t){var e=void 0;e=t instanceof this.constructor?t.all():t;var r=this.items.filter((function(t){return-1===e.indexOf(t)}));return new this.constructor(r)},re.prototype.diffAssoc=function(t){var e=this,r=t;t instanceof this.constructor&&(r=t.all());var n={};return Object.keys(this.items).forEach((function(t){void 0!==r[t]&&r[t]===e.items[t]||(n[t]=e.items[t])})),new this.constructor(n)},re.prototype.diffKeys=function(t){var e=void 0;e=t instanceof this.constructor?t.all():t;var r=Object.keys(e),n=Object.keys(this.items).filter((function(t){return-1===r.indexOf(t)}));return new this.constructor(this.items).only(n)},re.prototype.dump=function(){return console.log(this),this},re.prototype.duplicates=function(){var t=this,e=[],r={},n=function(t){return Array.isArray(t)||"object"===(void 0===t?"undefined":T(t))?JSON.stringify(t):t};return Array.isArray(this.items)?this.items.forEach((function(t,i){var o=n(t);-1===e.indexOf(o)?e.push(o):r[i]=t})):"object"===T(this.items)&&Object.keys(this.items).forEach((function(i){var o=n(t.items[i]);-1===e.indexOf(o)?e.push(o):r[i]=t.items[i]})),new this.constructor(r)},re.prototype.each=function(t){var e=!1;if(Array.isArray(this.items))for(var r=this.items.length,n=0;n<r&&!e;n+=1)e=!1===t(this.items[n],n,this.items);else for(var i=Object.keys(this.items),o=i.length,s=0;s<o&&!e;s+=1){var a=i[s];e=!1===t(this.items[a],a,this.items)}return this},re.prototype.eachSpread=function(t){return this.each((function(e,r){t.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e).concat([r]))})),this},re.prototype.every=function(t){return M(this.items).every(t)},re.prototype.except=function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=N(r);if(Array.isArray(this.items)){var o=this.items.filter((function(t){return-1===i.indexOf(t)}));return new this.constructor(o)}var s={};return Object.keys(this.items).forEach((function(e){-1===i.indexOf(e)&&(s[e]=t.items[e])})),new this.constructor(s)},re.prototype.filter=function(t){var e=t||!1,r=null;return r=Array.isArray(this.items)?function(t,e){if(t)return e.filter(t);for(var r=[],n=0;n<e.length;n+=1){var i=e[n];C(i)||r.push(i)}return r}(e,this.items):function(t,e){var r={};return Object.keys(e).forEach((function(n){t?t(e[n],n)&&(r[n]=e[n]):C(e[n])||(r[n]=e[n])})),r}(e,this.items),new this.constructor(r)},re.prototype.first=function(t,e){if(W(t)){for(var r=0,n=this.items.length;r<n;r+=1){var i=this.items[r];if(t(i))return i}return W(e)?e():e}if(Array.isArray(this.items)&&this.items.length||Object.keys(this.items).length){if(Array.isArray(this.items))return this.items[0];var o=Object.keys(this.items)[0];return this.items[o]}return W(e)?e():e},re.prototype.firstWhere=function(t,e,r){return this.where(t,e,r).first()||null},re.prototype.flatMap=function(t){return this.map(t).collapse()},re.prototype.flatten=function(t){var e=t||1/0,r=!1,n=[],i=function(t){n=[],q(t)?t.forEach((function(t){q(t)?n=n.concat(t):U(t)?Object.keys(t).forEach((function(e){n=n.concat(t[e])})):n.push(t)})):Object.keys(t).forEach((function(e){q(t[e])?n=n.concat(t[e]):U(t[e])?Object.keys(t[e]).forEach((function(r){n=n.concat(t[e][r])})):n.push(t[e])})),r=0===(r=n.filter((function(t){return U(t)}))).length,e-=1};for(i(this.items);!r&&e>0;)i(n);return new this.constructor(n)},re.prototype.flip=function(){var t=this,e={};return Array.isArray(this.items)?Object.keys(this.items).forEach((function(r){e[t.items[r]]=Number(r)})):Object.keys(this.items).forEach((function(r){e[t.items[r]]=r})),new this.constructor(e)},re.prototype.forPage=function(t,e){var r=this,n={};return Array.isArray(this.items)?n=this.items.slice(t*e-e,t*e):Object.keys(this.items).slice(t*e-e,t*e).forEach((function(t){n[t]=r.items[t]})),new this.constructor(n)},re.prototype.forget=function(t){return Array.isArray(this.items)?this.items.splice(t,1):delete this.items[t],this},re.prototype.get=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return void 0!==this.items[t]?this.items[t]:z(e)?e():null!==e?e:null},re.prototype.groupBy=function(t){var e=this,r={};return this.items.forEach((function(n,i){var o=void 0;o=H(t)?t(n,i):B(n,t)||0===B(n,t)?B(n,t):"",void 0===r[o]&&(r[o]=new e.constructor([])),r[o].push(n)})),new this.constructor(r)},re.prototype.has=function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=J(r);return i.filter((function(e){return Object.hasOwnProperty.call(t.items,e)})).length===i.length},re.prototype.implode=function(t,e){return void 0===e?this.items.join(t):new this.constructor(this.items).pluck(t).all().join(e)},re.prototype.intersect=function(t){var e=t;t instanceof this.constructor&&(e=t.all());var r=this.items.filter((function(t){return-1!==e.indexOf(t)}));return new this.constructor(r)},re.prototype.intersectByKeys=function(t){var e=this,r=Object.keys(t);t instanceof this.constructor&&(r=Object.keys(t.all()));var n={};return Object.keys(this.items).forEach((function(t){-1!==r.indexOf(t)&&(n[t]=e.items[t])})),new this.constructor(n)},re.prototype.isEmpty=function(){return Array.isArray(this.items)?!this.items.length:!Object.keys(this.items).length},re.prototype.isNotEmpty=function(){return!this.isEmpty()},re.prototype.join=function(t,e){var r=this.values();if(void 0===e)return r.implode(t);var n=r.count();if(0===n)return"";if(1===n)return r.last();var i=r.pop();return r.implode(t)+e+i},re.prototype.keyBy=function(t){var e={};return K(t)?this.items.forEach((function(r){e[t(r)]=r})):this.items.forEach((function(r){var n=G(r,t);e[n||""]=r})),new this.constructor(e)},re.prototype.keys=function(){var t=Object.keys(this.items);return Array.isArray(this.items)&&(t=t.map(Number)),new this.constructor(t)},re.prototype.last=function(t,e){var r=this.items;if(V(t)&&(r=this.filter(t).all()),Array.isArray(r)&&!r.length||!Object.keys(r).length)return V(e)?e():e;if(Array.isArray(r))return r[r.length-1];var n=Object.keys(r);return r[n[n.length-1]]},re.prototype.macro=function(t,e){this.constructor.prototype[t]=e},re.prototype.make=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new this.constructor(t)},re.prototype.map=function(t){var e=this;if(Array.isArray(this.items))return new this.constructor(this.items.map(t));var r={};return Object.keys(this.items).forEach((function(n){r[n]=t(e.items[n],n)})),new this.constructor(r)},re.prototype.mapSpread=function(t){return this.map((function(e,r){return t.apply(void 0,function(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}(e).concat([r]))}))},re.prototype.mapToDictionary=function(t){var e={};return this.items.forEach((function(r,n){var i=t(r,n),o=Q(i,2),s=o[0],a=o[1];void 0===e[s]?e[s]=[a]:e[s].push(a)})),new this.constructor(e)},re.prototype.mapInto=function(t){return this.map((function(e,r){return new t(e,r)}))},re.prototype.mapToGroups=function(t){var e={};return this.items.forEach((function(r,n){var i=t(r,n),o=X(i,2),s=o[0],a=o[1];void 0===e[s]?e[s]=[a]:e[s].push(a)})),new this.constructor(e)},re.prototype.mapWithKeys=function(t){var e=this,r={};return Array.isArray(this.items)?this.items.forEach((function(e,n){var i=t(e,n),o=Y(i,2);r[o[0]]=o[1]})):Object.keys(this.items).forEach((function(n){var i=t(e.items[n],n),o=Y(i,2);r[o[0]]=o[1]})),new this.constructor(r)},re.prototype.max=function(t){if("string"==typeof t){var e=this.items.filter((function(e){return void 0!==e[t]}));return Math.max.apply(Math,Z(e.map((function(e){return e[t]}))))}return Math.max.apply(Math,Z(this.items))},re.prototype.median=function(t){var e=this.items.length;return void 0===t?e%2==0?(this.items[e/2-1]+this.items[e/2])/2:this.items[Math.floor(e/2)]:e%2==0?(this.items[e/2-1][t]+this.items[e/2][t])/2:this.items[Math.floor(e/2)][t]},re.prototype.merge=function(t){var e=t;if("string"==typeof e&&(e=[e]),Array.isArray(this.items)&&Array.isArray(e))return new this.constructor(this.items.concat(e));var r=JSON.parse(JSON.stringify(this.items));return Object.keys(e).forEach((function(t){r[t]=e[t]})),new this.constructor(r)},re.prototype.mergeRecursive=function(t){var e=function t(e,r){var n={};return Object.keys(Object.assign({},e,r)).forEach((function(i){void 0===e[i]&&void 0!==r[i]?n[i]=r[i]:void 0!==e[i]&&void 0===r[i]?n[i]=e[i]:void 0!==e[i]&&void 0!==r[i]&&(n[i]=e[i]===r[i]?e[i]:Array.isArray(e[i])||"object"!==tt(e[i])||Array.isArray(r[i])||"object"!==tt(r[i])?[].concat(e[i],r[i]):t(e[i],r[i]))})),n};return t?new this.constructor(e(this.items,"Collection"===t.constructor.name?t.all():t)):this},re.prototype.min=function(t){if(void 0!==t){var e=this.items.filter((function(e){return void 0!==e[t]}));return Math.min.apply(Math,et(e.map((function(e){return e[t]}))))}return Math.min.apply(Math,et(this.items))},re.prototype.mode=function(t){var e=[],r=1;return this.items.length?(this.items.forEach((function(n){var i=e.filter((function(e){return void 0!==t?e.key===n[t]:e.key===n}));if(i.length){i[0].count+=1;var o=i[0].count;o>r&&(r=o)}else e.push(void 0!==t?{key:n[t],count:1}:{key:n,count:1})})),e.filter((function(t){return t.count===r})).map((function(t){return t.key}))):null},re.prototype.nth=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=rt(this.items),n=r.slice(e).filter((function(e,r){return r%t==0}));return new this.constructor(n)},re.prototype.only=function(){for(var t=this,e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=nt(r);if(Array.isArray(this.items)){var o=this.items.filter((function(t){return-1!==i.indexOf(t)}));return new this.constructor(o)}var s={};return Object.keys(this.items).forEach((function(e){-1!==i.indexOf(e)&&(s[e]=t.items[e])})),new this.constructor(s)},re.prototype.pad=function(t,e){var r=Math.abs(t),n=this.count();if(r<=n)return this;for(var i=r-n,o=it(this.items),s=Array.isArray(this.items),a=t<0,c=0;c<i;)s?a?o.unshift(e):o.push(e):void 0!==o[c]?i+=1:o[c]=e,c+=1;return new this.constructor(o)},re.prototype.partition=function(t){var e=this,r=void 0;return Array.isArray(this.items)?(r=[new this.constructor([]),new this.constructor([])],this.items.forEach((function(e){!0===t(e)?r[0].push(e):r[1].push(e)}))):(r=[new this.constructor({}),new this.constructor({})],Object.keys(this.items).forEach((function(n){var i=e.items[n];!0===t(i)?r[0].put(n,i):r[1].put(n,i)}))),new this.constructor(r)},re.prototype.pipe=function(t){return t(this)},re.prototype.pluck=function(t,e){if(-1!==t.indexOf("*")){var r=(p={},this.items.forEach((function(t,e){!function t(e,r){st(e)?Object.keys(e).forEach((function(n){t(e[n],r+"."+n)})):ot(e)&&e.forEach((function(e,n){t(e,r+"."+n)})),p[r]=e}(t,e)})),p),n=[];if(void 0!==e){var i=new RegExp("0."+e,"g"),o=("0."+e).split(".").length;Object.keys(r).forEach((function(t){var e=t.match(i);if(e){var s=e[0];s.split(".").length===o&&n.push(r[s])}}))}var s=[],a=new RegExp("0."+t,"g"),c=("0."+t).split(".").length;if(Object.keys(r).forEach((function(t){var e=t.match(a);if(e){var n=e[0];n.split(".").length===c&&s.push(r[n])}})),void 0!==e){var u={};return this.items.forEach((function(t,e){u[n[e]||""]=s})),new this.constructor(u)}return new this.constructor([s])}var p;if(void 0!==e){var l={};return this.items.forEach((function(r){l[r[e]||""]=void 0!==at(r,t)?at(r,t):null})),new this.constructor(l)}return this.map((function(e){return void 0!==at(e,t)?at(e,t):null}))},re.prototype.pop=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.isEmpty())return null;if(pt(this.items))return 1===e?this.items.pop():new this.constructor(this.items.splice(-e));if(lt(this.items)){var r=Object.keys(this.items);if(1===e){var n=r[r.length-1],i=this.items[n];return ft(this.items,n),i}var o=r.slice(-e),s=o.reduce((function(e,r){return e[r]=t.items[r],e}),{});return ft(this.items,o),new this.constructor(s)}return null},re.prototype.prepend=function(t,e){return void 0!==e?this.put(e,t):(this.items.unshift(t),this)},re.prototype.pull=function(t,e){var r=this.items[t]||null;return r||void 0===e||(r=ht(e)?e():e),delete this.items[t],r},re.prototype.push=function(){var t;return(t=this.items).push.apply(t,arguments),this},re.prototype.put=function(t,e){return this.items[t]=e,this},re.prototype.random=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=yt(this.items),r=new this.constructor(e).shuffle();return t!==parseInt(t,10)?r.first():r.take(t)},re.prototype.reduce=function(t,e){var r=this,n=null;return void 0!==e&&(n=e),Array.isArray(this.items)?this.items.forEach((function(e){n=t(n,e)})):Object.keys(this.items).forEach((function(e){n=t(n,r.items[e],e)})),n},re.prototype.reject=function(t){return new this.constructor(this.items).filter((function(e){return!t(e)}))},re.prototype.replace=function(t){if(!t)return this;if(Array.isArray(t)){var e=this.items.map((function(e,r){return t[r]||e}));return new this.constructor(e)}if("Collection"===t.constructor.name){var r=Object.assign({},this.items,t.all());return new this.constructor(r)}var n=Object.assign({},this.items,t);return new this.constructor(n)},re.prototype.replaceRecursive=function(t){var e=function t(e,r){var n=Object.assign({},e);return Object.keys(Object.assign({},e,r)).forEach((function(i){Array.isArray(r[i])||"object"!==mt(r[i])?void 0===e[i]&&void 0!==r[i]?n[i]="object"===mt(e[i])?Object.assign({},r[i]):r[i]:void 0!==e[i]&&void 0===r[i]?n[i]="object"===mt(e[i])?Object.assign({},e[i]):e[i]:void 0!==e[i]&&void 0!==r[i]&&(n[i]="object"===mt(r[i])?Object.assign({},r[i]):r[i]):n[i]=t(e[i],r[i])})),n};return t?Array.isArray(t)||"object"===(void 0===t?"undefined":mt(t))?new this.constructor(e(this.items,"Collection"===t.constructor.name?t.all():t)):new this.constructor(e(this.items,[t])):this},re.prototype.reverse=function(){var t=[].concat(this.items).reverse();return new this.constructor(t)},re.prototype.search=function(t,e){var r=this,n=void 0,i=function(n,i){return gt(t)?t(r.items[i],i):e?r.items[i]===t:r.items[i]==t};return dt(this.items)?n=this.items.findIndex(i):vt(this.items)&&(n=Object.keys(this.items).find((function(t){return i(0,t)}))),!(void 0===n||n<0)&&n},re.prototype.shift=function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;if(this.isEmpty())return null;if(bt(this.items))return 1===e?this.items.shift():new this.constructor(this.items.splice(0,e));if(wt(this.items)){if(1===e){var r=Object.keys(this.items)[0],n=this.items[r];return delete this.items[r],n}var i=Object.keys(this.items),o=i.slice(0,e),s=o.reduce((function(e,r){return e[r]=t.items[r],e}),{});return xt(this.items,o),new this.constructor(s)}return null},re.prototype.shuffle=function(){var t=jt(this.items),e=void 0,r=void 0,n=void 0;for(n=t.length;n;n-=1)e=Math.floor(Math.random()*n),r=t[n-1],t[n-1]=t[e],t[e]=r;return this.items=t,this},re.prototype.skip=function(t){var e=this;return At(this.items)?new this.constructor(Object.keys(this.items).reduce((function(r,n,i){return i+1>t&&(r[n]=e.items[n]),r}),{})):new this.constructor(this.items.slice(t))},re.prototype.skipUntil=function(t){var e=this,r=null,n=void 0,i=function(e){return e===t};return _t(t)&&(i=t),Ot(this.items)&&(n=this.items.filter((function(t){return!0!==r&&(r=i(t)),r}))),St(this.items)&&(n=Object.keys(this.items).reduce((function(t,n){return!0!==r&&(r=i(e.items[n])),!1!==r&&(t[n]=e.items[n]),t}),{})),new this.constructor(n)},re.prototype.skipWhile=function(t){var e=this,r=null,n=void 0,i=function(e){return e===t};return Pt(t)&&(i=t),kt(this.items)&&(n=this.items.filter((function(t){return!0!==r&&(r=!i(t)),r}))),Et(this.items)&&(n=Object.keys(this.items).reduce((function(t,n){return!0!==r&&(r=!i(e.items[n])),!1!==r&&(t[n]=e.items[n]),t}),{})),new this.constructor(n)},re.prototype.slice=function(t,e){var r=this.items.slice(t);return void 0!==e&&(r=r.slice(0,e)),new this.constructor(r)},re.prototype.some=Rt,re.prototype.sort=function(t){var e=[].concat(this.items);return void 0===t?this.every((function(t){return"number"==typeof t}))?e.sort((function(t,e){return t-e})):e.sort():e.sort(t),new this.constructor(e)},re.prototype.sortDesc=function(){return this.sort().reverse()},re.prototype.sortBy=function(t){var e=[].concat(this.items),r=function(e){return It(t)?t(e):$t(e,t)};return e.sort((function(t,e){var n=r(t),i=r(e);return null==n?1:null==i||n<i?-1:n>i?1:0})),new this.constructor(e)},re.prototype.sortByDesc=function(t){return this.sortBy(t).reverse()},re.prototype.sortKeys=function(){var t=this,e={};return Object.keys(this.items).sort().forEach((function(r){e[r]=t.items[r]})),new this.constructor(e)},re.prototype.sortKeysDesc=function(){var t=this,e={};return Object.keys(this.items).sort().reverse().forEach((function(r){e[r]=t.items[r]})),new this.constructor(e)},re.prototype.splice=function(t,e,r){var n=this.slice(t,e);if(this.items=this.diff(n.all()).all(),Array.isArray(r))for(var i=0,o=r.length;i<o;i+=1)this.items.splice(t+i,0,r[i]);return n},re.prototype.split=function(t){for(var e=Math.round(this.items.length/t),r=JSON.parse(JSON.stringify(this.items)),n=[],i=0;i<t;i+=1)n.push(new this.constructor(r.splice(0,e)));return new this.constructor(n)},re.prototype.sum=function(t){var e=Tt(this.items),r=0;if(void 0===t)for(var n=0,i=e.length;n<i;n+=1)r+=parseFloat(e[n]);else if(Mt(t))for(var o=0,s=e.length;o<s;o+=1)r+=parseFloat(t(e[o]));else for(var a=0,c=e.length;a<c;a+=1)r+=parseFloat(e[a][t]);return parseFloat(r.toPrecision(12))},re.prototype.take=function(t){var e=this;if(!Array.isArray(this.items)&&"object"===Ft(this.items)){var r=Object.keys(this.items),n=void 0;n=t<0?r.slice(t):r.slice(0,t);var i={};return r.forEach((function(t){-1!==n.indexOf(t)&&(i[t]=e.items[t])})),new this.constructor(i)}return new this.constructor(t<0?this.items.slice(t):this.items.slice(0,t))},re.prototype.takeUntil=function(t){var e=this,r=null,n=void 0,i=function(e){return e===t};return Ct(t)&&(i=t),Nt(this.items)&&(n=this.items.filter((function(t){return!1!==r&&(r=!i(t)),r}))),Dt(this.items)&&(n=Object.keys(this.items).reduce((function(t,n){return!1!==r&&(r=!i(e.items[n])),!1!==r&&(t[n]=e.items[n]),t}),{})),new this.constructor(n)},re.prototype.takeWhile=function(t){var e=this,r=null,n=void 0,i=function(e){return e===t};return Ut(t)&&(i=t),Wt(this.items)&&(n=this.items.filter((function(t){return!1!==r&&(r=i(t)),r}))),qt(this.items)&&(n=Object.keys(this.items).reduce((function(t,n){return!1!==r&&(r=i(e.items[n])),!1!==r&&(t[n]=e.items[n]),t}),{})),new this.constructor(n)},re.prototype.tap=function(t){return t(this),this},re.prototype.times=function(t,e){for(var r=1;r<=t;r+=1)this.items.push(e(r));return this},re.prototype.toArray=function(){var t=this.constructor;function e(r,n){var i=[];r instanceof t?(r.items.forEach((function(t){return e(t,i)})),n.push(i)):Array.isArray(r)?(r.forEach((function(t){return e(t,i)})),n.push(i)):n.push(r)}if(Array.isArray(this.items)){var r=[];return this.items.forEach((function(t){e(t,r)})),r}return this.values().all()},re.prototype.toJson=function(){return"object"!==zt(this.items)||Array.isArray(this.items)?JSON.stringify(this.toArray()):JSON.stringify(this.all())},re.prototype.transform=function(t){var e=this;if(Array.isArray(this.items))this.items=this.items.map(t);else{var r={};Object.keys(this.items).forEach((function(n){r[n]=t(e.items[n],n)})),this.items=r}return this},re.prototype.unless=function(t,e,r){t?r(this):e(this)},re.prototype.unlessEmpty=Lt,re.prototype.unlessNotEmpty=Bt,re.prototype.union=function(t){var e=this,r=JSON.parse(JSON.stringify(this.items));return Object.keys(t).forEach((function(n){void 0===e.items[n]&&(r[n]=t[n])})),new this.constructor(r)},re.prototype.unique=function(t){var e=void 0;if(void 0===t)e=this.items.filter((function(t,e,r){return r.indexOf(t)===e}));else{e=[];for(var r=[],n=0,i=this.items.length;n<i;n+=1){var o=void 0;o=Ht(t)?t(this.items[n]):this.items[n][t],-1===r.indexOf(o)&&(e.push(this.items[n]),r.push(o))}}return new this.constructor(e)},re.prototype.unwrap=function(t){return t instanceof this.constructor?t.all():t},re.prototype.values=function(){return new this.constructor(Jt(this.items))},re.prototype.when=function(t,e,r){return t?e(this,t):r?r(this,t):this},re.prototype.whenEmpty=Bt,re.prototype.whenNotEmpty=Lt,re.prototype.where=function(t,e,r){var n=e,i=r,o=Gt(this.items);if(void 0===e||!0===e)return new this.constructor(o.filter((function(e){return Kt(e,t)})));if(!1===e)return new this.constructor(o.filter((function(e){return!Kt(e,t)})));void 0===r&&(i=e,n="===");var s=o.filter((function(e){switch(n){case"==":return Kt(e,t)===Number(i)||Kt(e,t)===i.toString();default:case"===":return Kt(e,t)===i;case"!=":case"<>":return Kt(e,t)!==Number(i)&&Kt(e,t)!==i.toString();case"!==":return Kt(e,t)!==i;case"<":return Kt(e,t)<i;case"<=":return Kt(e,t)<=i;case">":return Kt(e,t)>i;case">=":return Kt(e,t)>=i}}));return new this.constructor(s)},re.prototype.whereBetween=function(t,e){return this.where(t,">=",e[0]).where(t,"<=",e[e.length-1])},re.prototype.whereIn=function(t,e){var r=Vt(e),n=this.items.filter((function(e){return-1!==r.indexOf(Qt(e,t))}));return new this.constructor(n)},re.prototype.whereInstanceOf=function(t){return this.filter((function(e){return e instanceof t}))},re.prototype.whereNotBetween=function(t,e){return this.filter((function(r){return Xt(r,t)<e[0]||Xt(r,t)>e[e.length-1]}))},re.prototype.whereNotIn=function(t,e){var r=Yt(e),n=this.items.filter((function(e){return-1===r.indexOf(Zt(e,t))}));return new this.constructor(n)},re.prototype.whereNull=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.where(t,"===",null)},re.prototype.whereNotNull=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.where(t,"!==",null)},re.prototype.wrap=function(t){return t instanceof this.constructor?t:"object"===(void 0===t?"undefined":te(t))?new this.constructor(t):new this.constructor([t])},re.prototype.zip=function(t){var e=this,r=t;r instanceof this.constructor&&(r=r.all());var n=this.items.map((function(t,n){return new e.constructor([t,r[n]])}));return new this.constructor(n)};var ne=function(t){return new re(t)};d.exports=ne,d.exports.collect=ne,d.exports.default=ne;var ie=d.exports.Collection=re;class oe extends ie{toObject(){return this.items}}class se extends oe{constructor(t,e,r){super(t),this.meta=e,this.links=r}static fromResponse(t,e){const r=Object.values(t.data.data).map((t=>new m(e,t,!1)));return new se(r,t.data.meta,t.data.links)}}class ae extends oe{constructor(t,e,r){super(...t),this.meta=e,this.links=r}static fromResponse(t,e){const r=Object.values(t.data.data).map((t=>new m(e,t,!1)));return new ae(r,t.data.meta,t.data.links)}}const ce=[">","<","==","!=",">=","<=","!<","!>","<>"],ue=["BETWEEN","EXISTS","OR","AND","NOT","IN","ALL","ANY","LIKE","IS NULL","UNIQUE"],pe=[].concat(ce).concat(ue),le=t=>pe.includes(t);class fe{constructor(t){this.stream=t,this.parameters=[]}get http(){return this.stream.getStreams().http}find(t){return a(this,void 0,void 0,(function*(){return this.where("id",t).first()}))}first(){return a(this,void 0,void 0,(function*(){return(yield this.limit(1).get()).get(0)}))}cache(){return this}orderBy(t,e="desc"){return this.addParameter("orderBy",[t,e]),this}limit(t){return this.addParameter("limit",t),this}where(...t){let e,r,n,i;if(2===t.length?(e=t[0],r="==",n=t[1]):3===t.length?(e=t[0],r=t[1],n=t[2]):4===t.length&&(e=t[0],r=t[1],n=t[2],i=t[3]),!le(r))throw new Error(`Criteria where() operator "${r}" not valid `);return this.addParameter("where",[e,r,n,i]),this}orWhere(...t){let e,r,n;if(2===t.length?(e=t[0],r="==",n=t[1]):(e=t[0],r=t[1],n=t[2]),!le(r))throw new Error(`Criteria orWhere() operator "${r}" not valid `);return this.addParameter("where",[e,r,n,"or"]),this}get(){return a(this,void 0,void 0,(function*(){const t={parameters:this.compileParameters()},e=yield this.http.getEntries(this.stream.id,t);return se.fromResponse(e,this.stream)}))}paginate(t=100,e=1){return a(this,void 0,void 0,(function*(){let r={parameters:this.compileParameters(),paginate:!0,per_page:t,page:e};const n=yield this.http.getEntries(this.stream.id,r);return ae.fromResponse(n,this.stream)}))}create(t){return a(this,void 0,void 0,(function*(){let e=this.newInstance(t);return yield e.save(),e}))}save(t){return a(this,void 0,void 0,(function*(){return t.save()}))}delete(){return this}newInstance(t){return new m(this.stream,t,!0)}getParameters(){return this.parameters}setParameters(t){return this.parameters=t,this}addParameter(t,e){return this.parameters.push({name:t,value:e}),this}compileParameters(){return this.parameters.map((t=>{return{[t.name]:(e=t.value,Array.isArray(e)?e:[e])};var e}))}}class he{constructor(t){this.stream=t}get http(){return this.stream.getStreams().http}all(){return a(this,void 0,void 0,(function*(){let t=yield this.http.getEntries(this.stream.id),e=t.data.data.map((t=>new m(this.stream,t,!1)));return new se(e,t.data.meta,t.data.links)}))}find(t){return a(this,void 0,void 0,(function*(){return this.stream.getEntries().where("id",t).first()}))}findAll(t){return a(this,void 0,void 0,(function*(){return this.stream.getEntries().where("id","IN",t).get()}))}findBy(t,e){return a(this,void 0,void 0,(function*(){return this.stream.getEntries().where(t,e).first()}))}findAllWhere(t,e){return a(this,void 0,void 0,(function*(){return this.stream.getEntries().where(t,e).get()}))}create(t){return a(this,void 0,void 0,(function*(){let e=this.newCriteria().newInstance(t);return e.save(),e}))}save(t){return a(this,void 0,void 0,(function*(){return t.save()}))}delete(t){return a(this,void 0,void 0,(function*(){return yield this.http.deleteEntry(this.stream.id,t.id),!0}))}truncate(){return this}newInstance(t){return this.newCriteria().newInstance(t)}newCriteria(){return new fe(this.stream)}}var ye=function(t){return function(t){return!!t&&"object"==typeof t}(t)&&!function(t){var e=Object.prototype.toString.call(t);return"[object RegExp]"===e||"[object Date]"===e||function(t){return t.$$typeof===me}(t)}(t)};var me="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function de(t,e){return!1!==e.clone&&e.isMergeableObject(t)?xe(Array.isArray(t)?[]:{},t,e):t}function ve(t,e,r){return t.concat(e).map((function(t){return de(t,r)}))}function ge(t){return Object.keys(t).concat(function(t){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(t).filter((function(e){return t.propertyIsEnumerable(e)})):[]}(t))}function be(t,e){try{return e in t}catch(r){return!1}}function we(t,e,r){var n={};return r.isMergeableObject(t)&&ge(t).forEach((function(e){n[e]=de(t[e],r)})),ge(e).forEach((function(i){(function(t,e){return be(t,e)&&!(Object.hasOwnProperty.call(t,e)&&Object.propertyIsEnumerable.call(t,e))})(t,i)||(n[i]=be(t,i)&&r.isMergeableObject(e[i])?function(t,e){if(!e.customMerge)return xe;var r=e.customMerge(t);return"function"==typeof r?r:xe}(i,r)(t[i],e[i],r):de(e[i],r))})),n}function xe(t,e,r){(r=r||{}).arrayMerge=r.arrayMerge||ve,r.isMergeableObject=r.isMergeableObject||ye,r.cloneUnlessOtherwiseSpecified=de;var n=Array.isArray(e);return n===Array.isArray(t)?n?r.arrayMerge(t,e,r):we(t,e,r):de(e,r)}xe.all=function(t,e){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce((function(t,r){return xe(t,r,e)}),{})};var je=xe;class Ae{static random(t=15){let e="";const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let n=0;n<t;n++)e+=r.charAt(Math.floor(Math.random()*r.length));return e}static ensureLeft(t,e){return!1===t.startsWith(e)?e+t:t}static ensureRight(t,e){return!1===t.endsWith(e)?t+e:t}static stripLeft(t,e){return t.startsWith(e)?t.substr(e.length):t}static stripRight(t,e){return t.endsWith(e)?t.substr(0,t.length-e.length):t}static ucfirst(t){return t[0].toUpperCase()+t.slice(1)}static lcfirst(t){return t[0].toLowerCase()+t.slice(1)}static parameters(t,e){return Object.entries(e).forEach((([e,r])=>t=t.replace(new RegExp(":"+e,"g"),r))),t}}const Oe=(t,[e,r])=>Object.assign(Object.assign({},t),{[e]:r});class Se extends oe{constructor(t){super(t)}serialize(){return this.toArray().map((([t,e])=>[t,e.serialize()])).reduce(Oe,{})}}var _e,ke,Ee,Pe,Re,$e,Ie;class Te{constructor(t,e,r,n){_e.set(this,void 0),ke.set(this,void 0),Ee.set(this,void 0),Pe.set(this,void 0),Re.set(this,void 0),$e.set(this,void 0),Ie.set(this,void 0),u(this,Ee,t,"f"),u(this,ke,e,"f"),u(this,Pe,r,"f"),u(this,Re,n,"f"),this.unserialize(e);const i=this;let o=new Proxy(this,{get:(t,e,r)=>"function"==typeof i[e.toString()]?i[e.toString()].bind(i):c(i,ke,"f")[e.toString()]?c(i,ke,"f")[e.toString()]:Reflect.has(c(t,ke,"f"),e)?Reflect.get(c(t,ke,"f"),e):Reflect.has(t,e)?Reflect.get(t,e).bind(this):void 0,set:(t,e,r,n)=>c(i,ke,"f")[e.toString()]?(c(i,ke,"f")[e.toString()]=r,!0):Reflect.has(t,e)?Reflect.set(t,e,r,n):Reflect.set(c(this,ke,"f"),e,r)});return u(this,_e,o,"f"),o}getFields(){return c(this,Ie,"f")}getStreams(){return c(this,Ee,"f")}getMeta(){return c(this,Pe,"f")}getLinks(){return c(this,Re,"f")}getRepository(){return c(this,$e,"f")||u(this,$e,new he(c(this,_e,"f")),"f"),c(this,$e,"f")}getEntries(){return this.getRepository().newCriteria()}save(){return a(this,void 0,void 0,(function*(){try{return yield c(this,Ee,"f").http.patchStream(c(this,ke,"f").id,this.serialize()),!0}catch(t){return!1}}))}delete(){return a(this,void 0,void 0,(function*(){try{return yield c(this,Ee,"f").http.deleteStream(c(this,ke,"f").id),!0}catch(t){return!1}}))}unserialize(t){let e=Object.entries(t.fields||{}).map((([t,e])=>{if(p(e))return[t,new l(e)];if("string"==typeof e)return[t,new l({type:e})];throw new Error(`Could not unserialize stream "${this.handle}" because of field [${t}] with value ${e}`)})).reduce(Oe,{});u(this,Ie,new Se(e),"f")}serialize(){let t=je({},c(this,ke,"f"),{clone:!0});return t.fields=Object.entries(this.getFields().toObject()).map((([t,e])=>[t,e.serialize()])).reduce(Oe,{}),t}}_e=new WeakMap,ke=new WeakMap,Ee=new WeakMap,Pe=new WeakMap,Re=new WeakMap,$e=new WeakMap,Ie=new WeakMap;class Me{constructor(t){this.streams=t}get client(){return this.streams.client}get config(){return this.streams.config}getStreams(t={},e={}){return a(this,void 0,void 0,(function*(){return this.client.request("get","/streams",Object.assign({params:t},e))}))}postStream(t,e={}){return a(this,void 0,void 0,(function*(){return this.client.request("post","/streams",Object.assign({data:t},e))}))}getStream(t,e={},r={}){return a(this,void 0,void 0,(function*(){return this.client.request("get",`/streams/${t}`,r)}))}patchStream(t,e={},r={}){return a(this,void 0,void 0,(function*(){return this.client.request("patch",`/streams/${t}`,Object.assign({data:e},r))}))}putStream(t,e={},r={}){return a(this,void 0,void 0,(function*(){return this.client.request("put",`/streams/${t}`,Object.assign({data:e},r))}))}deleteStream(t,e={}){return a(this,void 0,void 0,(function*(){return this.client.request("delete",`/streams/${t}`,e)}))}getEntries(t,e={},r={}){return a(this,void 0,void 0,(function*(){return this.client.request("get",`/streams/${t}/entries`,Object.assign({params:e},r))}))}postEntry(t,e={},r={}){return a(this,void 0,void 0,(function*(){return this.client.request("post",`/streams/${t}/entries`,Object.assign({data:e},r))}))}getEntry(t,e,r={}){return a(this,void 0,void 0,(function*(){return this.client.request("get",`/streams/${t}/entries/${e}`,r)}))}patchEntry(t,e,r={},n={}){return a(this,void 0,void 0,(function*(){return this.client.request("patch",`/streams/${t}/entries/${e}`,Object.assign({data:r},n))}))}putEntry(t,e,r={},n={}){return a(this,void 0,void 0,(function*(){return this.client.request("put",`/streams/${t}/entries/${e}`,Object.assign({data:r},n))}))}deleteEntry(t,e,r={}){return a(this,void 0,void 0,(function*(){return this.client.request("delete",`/streams/${t}/entries/${e}`,r)}))}request(t,e,r={}){return a(this,void 0,void 0,(function*(){return(yield this.client.request(t,e,r)).data}))}}const Fe=o.default.deprecate((()=>{}),"Hook.context is deprecated and will be removed"),Ne=function(...t){return this.call=this._createCall("sync"),this.call(...t)},De=function(...t){return this.callAsync=this._createCall("async"),this.callAsync(...t)},Ce=function(...t){return this.promise=this._createCall("promise"),this.promise(...t)};class We{constructor(t=[],e){this._args=t,this.name=e,this.taps=[],this.interceptors=[],this._call=Ne,this.call=Ne,this._callAsync=De,this.callAsync=De,this._promise=Ce,this.promise=Ce,this._x=void 0,this.compile=this.compile,this.tap=this.tap,this.tapAsync=this.tapAsync,this.tapPromise=this.tapPromise}compile(t){throw new Error("Abstract: should be overridden")}_createCall(t){return this.compile({taps:this.taps,interceptors:this.interceptors,args:this._args,type:t})}_tap(t,e,r){if("string"==typeof e)e={name:e.trim()};else if("object"!=typeof e||null===e)throw new Error("Invalid tap options");if("string"!=typeof e.name||""===e.name)throw new Error("Missing name for tap");void 0!==e.context&&Fe(),e=Object.assign({type:t,fn:r},e),e=this._runRegisterInterceptors(e),this._insert(e)}tap(t,e){this._tap("sync",t,e)}tapAsync(t,e){this._tap("async",t,e)}tapPromise(t,e){this._tap("promise",t,e)}_runRegisterInterceptors(t){for(const e of this.interceptors)if(e.register){const r=e.register(t);void 0!==r&&(t=r)}return t}withOptions(t){const e=e=>Object.assign({},t,"string"==typeof e?{name:e}:e);return{name:this.name,tap:(t,r)=>this.tap(e(t),r),tapAsync:(t,r)=>this.tapAsync(e(t),r),tapPromise:(t,r)=>this.tapPromise(e(t),r),intercept:t=>this.intercept(t),isUsed:()=>this.isUsed(),withOptions:t=>this.withOptions(e(t))}}isUsed(){return this.taps.length>0||this.interceptors.length>0}intercept(t){if(this._resetCompilation(),this.interceptors.push(Object.assign({},t)),t.register)for(let e=0;e<this.taps.length;e++)this.taps[e]=t.register(this.taps[e])}_resetCompilation(){this.call=this._call,this.callAsync=this._callAsync,this.promise=this._promise}_insert(t){let e;this._resetCompilation(),"string"==typeof t.before?e=new Set([t.before]):Array.isArray(t.before)&&(e=new Set(t.before));let r=0;"number"==typeof t.stage&&(r=t.stage);let n=this.taps.length;for(;n>0;){n--;const t=this.taps[n];this.taps[n+1]=t;const i=t.stage||0;if(e){if(e.has(t.name)){e.delete(t.name);continue}if(e.size>0)continue}if(!(i>r)){n++;break}}this.taps[n]=t}}Object.setPrototypeOf(We.prototype,null);var qe=We;var Ue=class{constructor(t){this.config=t,this.options=void 0,this._args=void 0}create(t){let e;switch(this.init(t),this.options.type){case"sync":e=new Function(this.args(),'"use strict";\n'+this.header()+this.contentWithInterceptors({onError:t=>`throw ${t};\n`,onResult:t=>`return ${t};\n`,resultReturns:!0,onDone:()=>"",rethrowIfPossible:!0}));break;case"async":e=new Function(this.args({after:"_callback"}),'"use strict";\n'+this.header()+this.contentWithInterceptors({onError:t=>`_callback(${t});\n`,onResult:t=>`_callback(null, ${t});\n`,onDone:()=>"_callback();\n"}));break;case"promise":let t=!1;const r=this.contentWithInterceptors({onError:e=>(t=!0,`_error(${e});\n`),onResult:t=>`_resolve(${t});\n`,onDone:()=>"_resolve();\n"});let n="";n+='"use strict";\n',n+=this.header(),n+="return new Promise((function(_resolve, _reject) {\n",t&&(n+="var _sync = true;\n",n+="function _error(_err) {\n",n+="if(_sync)\n",n+="_resolve(Promise.resolve().then((function() { throw _err; })));\n",n+="else\n",n+="_reject(_err);\n",n+="};\n"),n+=r,t&&(n+="_sync = false;\n"),n+="}));\n",e=new Function(this.args(),n)}return this.deinit(),e}setup(t,e){t._x=e.taps.map((t=>t.fn))}init(t){this.options=t,this._args=t.args.slice()}deinit(){this.options=void 0,this._args=void 0}contentWithInterceptors(t){if(this.options.interceptors.length>0){const e=t.onError,r=t.onResult,n=t.onDone;let i="";for(let t=0;t<this.options.interceptors.length;t++){const e=this.options.interceptors[t];e.call&&(i+=`${this.getInterceptor(t)}.call(${this.args({before:e.context?"_context":void 0})});\n`)}return i+=this.content(Object.assign(t,{onError:e&&(t=>{let r="";for(let e=0;e<this.options.interceptors.length;e++){this.options.interceptors[e].error&&(r+=`${this.getInterceptor(e)}.error(${t});\n`)}return r+=e(t),r}),onResult:r&&(t=>{let e="";for(let r=0;r<this.options.interceptors.length;r++){this.options.interceptors[r].result&&(e+=`${this.getInterceptor(r)}.result(${t});\n`)}return e+=r(t),e}),onDone:n&&(()=>{let t="";for(let e=0;e<this.options.interceptors.length;e++){this.options.interceptors[e].done&&(t+=`${this.getInterceptor(e)}.done();\n`)}return t+=n(),t})})),i}return this.content(t)}header(){let t="";return this.needContext()?t+="var _context = {};\n":t+="var _context;\n",t+="var _x = this._x;\n",this.options.interceptors.length>0&&(t+="var _taps = this.taps;\n",t+="var _interceptors = this.interceptors;\n"),t}needContext(){for(const t of this.options.taps)if(t.context)return!0;return!1}callTap(t,{onError:e,onResult:r,onDone:n,rethrowIfPossible:i}){let o="",s=!1;for(let c=0;c<this.options.interceptors.length;c++){const e=this.options.interceptors[c];e.tap&&(s||(o+=`var _tap${t} = ${this.getTap(t)};\n`,s=!0),o+=`${this.getInterceptor(c)}.tap(${e.context?"_context, ":""}_tap${t});\n`)}o+=`var _fn${t} = ${this.getTapFn(t)};\n`;const a=this.options.taps[t];switch(a.type){case"sync":i||(o+=`var _hasError${t} = false;\n`,o+="try {\n"),o+=r?`var _result${t} = _fn${t}(${this.args({before:a.context?"_context":void 0})});\n`:`_fn${t}(${this.args({before:a.context?"_context":void 0})});\n`,i||(o+="} catch(_err) {\n",o+=`_hasError${t} = true;\n`,o+=e("_err"),o+="}\n",o+=`if(!_hasError${t}) {\n`),r&&(o+=r(`_result${t}`)),n&&(o+=n()),i||(o+="}\n");break;case"async":let s="";s+=r?`(function(_err${t}, _result${t}) {\n`:`(function(_err${t}) {\n`,s+=`if(_err${t}) {\n`,s+=e(`_err${t}`),s+="} else {\n",r&&(s+=r(`_result${t}`)),n&&(s+=n()),s+="}\n",s+="})",o+=`_fn${t}(${this.args({before:a.context?"_context":void 0,after:s})});\n`;break;case"promise":o+=`var _hasResult${t} = false;\n`,o+=`var _promise${t} = _fn${t}(${this.args({before:a.context?"_context":void 0})});\n`,o+=`if (!_promise${t} || !_promise${t}.then)\n`,o+=`  throw new Error('Tap function (tapPromise) did not return promise (returned ' + _promise${t} + ')');\n`,o+=`_promise${t}.then((function(_result${t}) {\n`,o+=`_hasResult${t} = true;\n`,r&&(o+=r(`_result${t}`)),n&&(o+=n()),o+=`}), function(_err${t}) {\n`,o+=`if(_hasResult${t}) throw _err${t};\n`,o+=e(`_err${t}`),o+="});\n"}return o}callTapsSeries({onError:t,onResult:e,resultReturns:r,onDone:n,doneReturns:i,rethrowIfPossible:o}){if(0===this.options.taps.length)return n();const s=this.options.taps.findIndex((t=>"sync"!==t.type)),a=r||i;let c="",u=n,p=0;for(let l=this.options.taps.length-1;l>=0;l--){const r=l;u!==n&&("sync"!==this.options.taps[r].type||p++>20)&&(p=0,c+=`function _next${r}() {\n`,c+=u(),c+="}\n",u=()=>`${a?"return ":""}_next${r}();\n`);const i=u,f=t=>t?"":n(),h=this.callTap(r,{onError:e=>t(r,e,i,f),onResult:e&&(t=>e(r,t,i,f)),onDone:!e&&i,rethrowIfPossible:o&&(s<0||r<s)});u=()=>h}return c+=u(),c}callTapsLooping({onError:t,onDone:e,rethrowIfPossible:r}){if(0===this.options.taps.length)return e();const n=this.options.taps.every((t=>"sync"===t.type));let i="";n||(i+="var _looper = (function() {\n",i+="var _loopAsync = false;\n"),i+="var _loop;\n",i+="do {\n",i+="_loop = false;\n";for(let o=0;o<this.options.interceptors.length;o++){const t=this.options.interceptors[o];t.loop&&(i+=`${this.getInterceptor(o)}.loop(${this.args({before:t.context?"_context":void 0})});\n`)}return i+=this.callTapsSeries({onError:t,onResult:(t,e,r,i)=>{let o="";return o+=`if(${e} !== undefined) {\n`,o+="_loop = true;\n",n||(o+="if(_loopAsync) _looper();\n"),o+=i(!0),o+="} else {\n",o+=r(),o+="}\n",o},onDone:e&&(()=>{let t="";return t+="if(!_loop) {\n",t+=e(),t+="}\n",t}),rethrowIfPossible:r&&n}),i+="} while(_loop);\n",n||(i+="_loopAsync = true;\n",i+="});\n",i+="_looper();\n"),i}callTapsParallel({onError:t,onResult:e,onDone:r,rethrowIfPossible:n,onTap:i=((t,e)=>e())}){if(this.options.taps.length<=1)return this.callTapsSeries({onError:t,onResult:e,onDone:r,rethrowIfPossible:n});let o="";o+="do {\n",o+=`var _counter = ${this.options.taps.length};\n`,r&&(o+="var _done = (function() {\n",o+=r(),o+="});\n");for(let s=0;s<this.options.taps.length;s++){const a=()=>r?"if(--_counter === 0) _done();\n":"--_counter;",c=t=>t||!r?"_counter = 0;\n":"_counter = 0;\n_done();\n";o+="if(_counter <= 0) break;\n",o+=i(s,(()=>this.callTap(s,{onError:e=>{let r="";return r+="if(_counter > 0) {\n",r+=t(s,e,a,c),r+="}\n",r},onResult:e&&(t=>{let r="";return r+="if(_counter > 0) {\n",r+=e(s,t,a,c),r+="}\n",r}),onDone:!e&&(()=>a()),rethrowIfPossible:n})),a,c)}return o+="} while(false);\n",o}args({before:t,after:e}={}){let r=this._args;return t&&(r=[t].concat(r)),e&&(r=r.concat(e)),0===r.length?"":r.join(", ")}getTapFn(t){return`_x[${t}]`}getTap(t){return`_taps[${t}]`}getInterceptor(t){return`_interceptors[${t}]`}};const ze=qe,Le=Ue;const Be=new class extends Le{content({onError:t,onDone:e,rethrowIfPossible:r}){return this.callTapsSeries({onError:(e,r)=>t(r),onDone:e,rethrowIfPossible:r})}},He=()=>{throw new Error("tapAsync is not supported on a SyncHook")},Je=()=>{throw new Error("tapPromise is not supported on a SyncHook")},Ge=function(t){return Be.setup(this,t),Be.create(t)};function Ke(t=[],e){const r=new ze(t,e);return r.constructor=Ke,r.tapAsync=He,r.tapPromise=Je,r.compile=Ge,r}Ke.prototype=null;var Ve=Ke;const Qe=Ue;new class extends Qe{content({onError:t,onResult:e,resultReturns:r,onDone:n,rethrowIfPossible:i}){return this.callTapsSeries({onError:(e,r)=>t(r),onResult:(t,r,n)=>`if(${r} !== undefined) {\n${e(r)};\n} else {\n${n()}}\n`,resultReturns:r,onDone:n,rethrowIfPossible:i})}};const Xe=qe,Ye=Ue;const Ze=new class extends Ye{content({onError:t,onResult:e,resultReturns:r,rethrowIfPossible:n}){return this.callTapsSeries({onError:(e,r)=>t(r),onResult:(t,e,r)=>{let n="";return n+=`if(${e} !== undefined) {\n`,n+=`${this._args[0]} = ${e};\n`,n+="}\n",n+=r(),n},onDone:()=>e(this._args[0]),doneReturns:r,rethrowIfPossible:n})}},tr=()=>{throw new Error("tapAsync is not supported on a SyncWaterfallHook")},er=()=>{throw new Error("tapPromise is not supported on a SyncWaterfallHook")},rr=function(t){return Ze.setup(this,t),Ze.create(t)};function nr(t=[],e){if(t.length<1)throw new Error("Waterfall hooks must have at least one argument");const r=new Xe(t,e);return r.constructor=nr,r.tapAsync=tr,r.tapPromise=er,r.compile=rr,r}nr.prototype=null;var ir=nr;const or=Ue;new class extends or{content({onError:t,onDone:e,rethrowIfPossible:r}){return this.callTapsLooping({onError:(e,r)=>t(r),onDone:e,rethrowIfPossible:r})}};const sr=Ue;new class extends sr{content({onError:t,onDone:e}){return this.callTapsParallel({onError:(e,r,n,i)=>t(r)+i(!0),onDone:e})}};const ar=Ue;new class extends ar{content({onError:t,onResult:e,onDone:r}){let n="";return n+=`var _results = new Array(${this.options.taps.length});\n`,n+="var _checkDone = function() {\n",n+="for(var i = 0; i < _results.length; i++) {\n",n+="var item = _results[i];\n",n+="if(item === undefined) return false;\n",n+="if(item.result !== undefined) {\n",n+=e("item.result"),n+="return true;\n",n+="}\n",n+="if(item.error) {\n",n+=t("item.error"),n+="return true;\n",n+="}\n",n+="}\n",n+="return false;\n",n+="}\n",n+=this.callTapsParallel({onError:(t,e,r,n)=>{let i="";return i+=`if(${t} < _results.length && ((_results.length = ${t+1}), (_results[${t}] = { error: ${e} }), _checkDone())) {\n`,i+=n(!0),i+="} else {\n",i+=r(),i+="}\n",i},onResult:(t,e,r,n)=>{let i="";return i+=`if(${t} < _results.length && (${e} !== undefined && (_results.length = ${t+1}), (_results[${t}] = { result: ${e} }), _checkDone())) {\n`,i+=n(!0),i+="} else {\n",i+=r(),i+="}\n",i},onTap:(t,e,r,n)=>{let i="";return t>0&&(i+=`if(${t} >= _results.length) {\n`,i+=r(),i+="} else {\n"),i+=e(),t>0&&(i+="}\n"),i},onDone:r}),n}};const cr=Ue;new class extends cr{content({onError:t,onDone:e}){return this.callTapsSeries({onError:(e,r,n,i)=>t(r)+i(!0),onDone:e})}};const ur=Ue;new class extends ur{content({onError:t,onResult:e,resultReturns:r,onDone:n}){return this.callTapsSeries({onError:(e,r,n,i)=>t(r)+i(!0),onResult:(t,r,n)=>`if(${r} !== undefined) {\n${e(r)}\n} else {\n${n()}}\n`,resultReturns:r,onDone:n})}};const pr=Ue;new class extends pr{content({onError:t,onDone:e}){return this.callTapsLooping({onError:(e,r,n,i)=>t(r)+i(!0),onDone:e})}};const lr=qe,fr=Ue;const hr=new class extends fr{content({onError:t,onResult:e}){return this.callTapsSeries({onError:(e,r,n,i)=>t(r)+i(!0),onResult:(t,e,r)=>{let n="";return n+=`if(${e} !== undefined) {\n`,n+=`${this._args[0]} = ${e};\n`,n+="}\n",n+=r(),n},onDone:()=>e(this._args[0])})}},yr=function(t){return hr.setup(this,t),hr.create(t)};function mr(t=[],e){if(t.length<1)throw new Error("Waterfall hooks must have at least one argument");const r=new lr(t,e);return r.constructor=mr,r.compile=yr,r._call=void 0,r.call=void 0,r}mr.prototype=null;var dr=mr;const vr=o.default,gr=(t,e)=>e;class br{constructor(t,e){this._map=new Map,this.name=e,this._factory=t,this._interceptors=[]}get(t){return this._map.get(t)}for(t){const e=this.get(t);if(void 0!==e)return e;let r=this._factory(t);const n=this._interceptors;for(let i=0;i<n.length;i++)r=n[i].factory(t,r);return this._map.set(t,r),r}intercept(t){this._interceptors.push(Object.assign({factory:gr},t))}}br.prototype.tap=vr.deprecate((function(t,e,r){return this.for(t).tap(e,r)}),"HookMap#tap(key,…) is deprecated. Use HookMap#for(key).tap(…) instead."),br.prototype.tapAsync=vr.deprecate((function(t,e,r){return this.for(t).tapAsync(e,r)}),"HookMap#tapAsync(key,…) is deprecated. Use HookMap#for(key).tapAsync(…) instead."),br.prototype.tapPromise=vr.deprecate((function(t,e,r){return this.for(t).tapPromise(e,r)}),"HookMap#tapPromise(key,…) is deprecated. Use HookMap#for(key).tapPromise(…) instead.");var wr=Ve,xr=ir,jr=dr;class Ar extends Error{constructor(t){super(`HTTP ${t.status} Error: ${t.statusText}\n        message: ${t.data.message}\n        file: ${t.data.file}\n        line: ${t.data.line}`),this.response=t,this.name="HTTPError"}}var Or,Sr="undefined"!=typeof Symbol&&Symbol,_r=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var t={},e=Symbol("test"),r=Object(e);if("string"==typeof e)return!1;if("[object Symbol]"!==Object.prototype.toString.call(e))return!1;if("[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;var n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e)return!1;if(!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var i=Object.getOwnPropertyDescriptor(t,e);if(42!==i.value||!0!==i.enumerable)return!1}return!0},kr="Function.prototype.bind called on incompatible ",Er=Array.prototype.slice,Pr=Object.prototype.toString,Rr="[object Function]",$r=function(t){var e=this;if("function"!=typeof e||Pr.call(e)!==Rr)throw new TypeError(kr+e);for(var r,n=Er.call(arguments,1),i=function(){if(this instanceof r){var i=e.apply(this,n.concat(Er.call(arguments)));return Object(i)===i?i:this}return e.apply(t,n.concat(Er.call(arguments)))},o=Math.max(0,e.length-n.length),s=[],a=0;a<o;a++)s.push("$"+a);if(r=Function("binder","return function ("+s.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var c=function(){};c.prototype=e.prototype,r.prototype=new c,c.prototype=null}return r},Ir=Function.prototype.bind||$r,Tr=Ir.call(Function.call,Object.prototype.hasOwnProperty),Mr=SyntaxError,Fr=Function,Nr=TypeError,Dr=function(t){try{return Fr('"use strict"; return ('+t+").constructor;")()}catch(e){}},Cr=Object.getOwnPropertyDescriptor;if(Cr)try{Cr({},"")}catch(Yi){Cr=null}var Wr=function(){throw new Nr},qr=Cr?function(){try{return Wr}catch(t){try{return Cr(arguments,"callee").get}catch(e){return Wr}}}():Wr,Ur="function"==typeof Sr&&"function"==typeof Symbol&&"symbol"==typeof Sr("foo")&&"symbol"==typeof Symbol("bar")&&_r(),zr=Object.getPrototypeOf||function(t){return t.__proto__},Lr={},Br="undefined"==typeof Uint8Array?Or:zr(Uint8Array),Hr={"%AggregateError%":"undefined"==typeof AggregateError?Or:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?Or:ArrayBuffer,"%ArrayIteratorPrototype%":Ur?zr([][Symbol.iterator]()):Or,"%AsyncFromSyncIteratorPrototype%":Or,"%AsyncFunction%":Lr,"%AsyncGenerator%":Lr,"%AsyncGeneratorFunction%":Lr,"%AsyncIteratorPrototype%":Lr,"%Atomics%":"undefined"==typeof Atomics?Or:Atomics,"%BigInt%":"undefined"==typeof BigInt?Or:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?Or:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?Or:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?Or:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?Or:FinalizationRegistry,"%Function%":Fr,"%GeneratorFunction%":Lr,"%Int8Array%":"undefined"==typeof Int8Array?Or:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?Or:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?Or:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Ur?zr(zr([][Symbol.iterator]())):Or,"%JSON%":"object"==typeof JSON?JSON:Or,"%Map%":"undefined"==typeof Map?Or:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&Ur?zr((new Map)[Symbol.iterator]()):Or,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?Or:Promise,"%Proxy%":"undefined"==typeof Proxy?Or:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?Or:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?Or:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&Ur?zr((new Set)[Symbol.iterator]()):Or,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?Or:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Ur?zr(""[Symbol.iterator]()):Or,"%Symbol%":Ur?Symbol:Or,"%SyntaxError%":Mr,"%ThrowTypeError%":qr,"%TypedArray%":Br,"%TypeError%":Nr,"%Uint8Array%":"undefined"==typeof Uint8Array?Or:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?Or:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?Or:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?Or:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?Or:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?Or:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?Or:WeakSet},Jr=function t(e){var r;if("%AsyncFunction%"===e)r=Dr("async function () {}");else if("%GeneratorFunction%"===e)r=Dr("function* () {}");else if("%AsyncGeneratorFunction%"===e)r=Dr("async function* () {}");else if("%AsyncGenerator%"===e){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if("%AsyncIteratorPrototype%"===e){var i=t("%AsyncGenerator%");i&&(r=zr(i.prototype))}return Hr[e]=r,r},Gr={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Kr=Ir,Vr=Tr,Qr=Kr.call(Function.call,Array.prototype.concat),Xr=Kr.call(Function.apply,Array.prototype.splice),Yr=Kr.call(Function.call,String.prototype.replace),Zr=Kr.call(Function.call,String.prototype.slice),tn=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,en=/\\(\\)?/g,rn=function(t){var e=Zr(t,0,1),r=Zr(t,-1);if("%"===e&&"%"!==r)throw new Mr("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==e)throw new Mr("invalid intrinsic syntax, expected opening `%`");var n=[];return Yr(t,tn,(function(t,e,r,i){n[n.length]=r?Yr(i,en,"$1"):e||t})),n},nn=function(t,e){var r,n=t;if(Vr(Gr,n)&&(n="%"+(r=Gr[n])[0]+"%"),Vr(Hr,n)){var i=Hr[n];if(i===Lr&&(i=Jr(n)),void 0===i&&!e)throw new Nr("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:r,name:n,value:i}}throw new Mr("intrinsic "+t+" does not exist!")},on=function(t,e){if("string"!=typeof t||0===t.length)throw new Nr("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof e)throw new Nr('"allowMissing" argument must be a boolean');var r=rn(t),n=r.length>0?r[0]:"",i=nn("%"+n+"%",e),o=i.name,s=i.value,a=!1,c=i.alias;c&&(n=c[0],Xr(r,Qr([0,1],c)));for(var u=1,p=!0;u<r.length;u+=1){var l=r[u],f=Zr(l,0,1),h=Zr(l,-1);if(('"'===f||"'"===f||"`"===f||'"'===h||"'"===h||"`"===h)&&f!==h)throw new Mr("property names with quotes must have matching quotes");if("constructor"!==l&&p||(a=!0),Vr(Hr,o="%"+(n+="."+l)+"%"))s=Hr[o];else if(null!=s){if(!(l in s)){if(!e)throw new Nr("base intrinsic for "+t+" exists, but the property is not available.");return}if(Cr&&u+1>=r.length){var y=Cr(s,l);s=(p=!!y)&&"get"in y&&!("originalValue"in y.get)?y.get:s[l]}else p=Vr(s,l),s=s[l];p&&!a&&(Hr[o]=s)}}return s},sn={exports:{}};!function(t){var e=Ir,r=on,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),o=r("%Reflect.apply%",!0)||e.call(i,n),s=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch(Yi){a=null}t.exports=function(t){var r=o(e,i,arguments);if(s&&a){var n=s(r,"length");n.configurable&&a(r,"length",{value:1+c(0,t.length-(arguments.length-1))})}return r};var u=function(){return o(e,n,arguments)};a?a(t.exports,"apply",{value:u}):t.exports.apply=u}(sn);var an=on,cn=sn.exports,un=cn(an("String.prototype.indexOf")),pn=o.default.inspect,ln="function"==typeof Map&&Map.prototype,fn=Object.getOwnPropertyDescriptor&&ln?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,hn=ln&&fn&&"function"==typeof fn.get?fn.get:null,yn=ln&&Map.prototype.forEach,mn="function"==typeof Set&&Set.prototype,dn=Object.getOwnPropertyDescriptor&&mn?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,vn=mn&&dn&&"function"==typeof dn.get?dn.get:null,gn=mn&&Set.prototype.forEach,bn="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,wn="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,xn="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,jn=Boolean.prototype.valueOf,An=Object.prototype.toString,On=Function.prototype.toString,Sn=String.prototype.match,_n="function"==typeof BigInt?BigInt.prototype.valueOf:null,kn=Object.getOwnPropertySymbols,En="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,Pn="function"==typeof Symbol&&"object"==typeof Symbol.iterator,Rn="function"==typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Pn||"symbol")?Symbol.toStringTag:null,$n=Object.prototype.propertyIsEnumerable,In=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null),Tn=pn.custom,Mn=Tn&&Cn(Tn)?Tn:null;function Fn(t,e,r){var n="double"===(r.quoteStyle||e)?'"':"'";return n+t+n}function Nn(t){return String(t).replace(/"/g,"&quot;")}function Dn(t){return!("[object Array]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}function Cn(t){if(Pn)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return!0;if(!t||"object"!=typeof t||!En)return!1;try{return En.call(t),!0}catch(Yi){}return!1}var Wn=Object.prototype.hasOwnProperty||function(t){return t in this};function qn(t,e){return Wn.call(t,e)}function Un(t){return An.call(t)}function zn(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Ln(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Ln(t.slice(0,e.maxStringLength),e)+n}return Fn(t.replace(/(['\\])/g,"\\$1").replace(/[\x00-\x1f]/g,Bn),"single",e)}function Bn(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+e.toString(16).toUpperCase()}function Hn(t){return"Object("+t+")"}function Jn(t){return t+" { ? }"}function Gn(t,e,r,n){return t+" ("+e+") {"+(n?Kn(r,n):r.join(", "))+"}"}function Kn(t,e){if(0===t.length)return"";var r="\n"+e.prev+e.base;return r+t.join(","+r)+"\n"+e.prev}function Vn(t,e){var r=Dn(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=qn(t,i)?e(t[i],t):""}var o,s="function"==typeof kn?kn(t):[];if(Pn){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var c in t)qn(t,c)&&(r&&String(Number(c))===c&&c<t.length||Pn&&o["$"+c]instanceof Symbol||(/[^\w$]/.test(c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if("function"==typeof kn)for(var u=0;u<s.length;u++)$n.call(t,s[u])&&n.push("["+e(s[u])+"]: "+e(t[s[u]],t));return n}var Qn,Xn,Yn,Zn,ti=on,ei=function(t,e){var r=an(t,!!e);return"function"==typeof r&&un(t,".prototype.")>-1?cn(r):r},ri=function t(e,r,n,i){var o=r||{};if(qn(o,"quoteStyle")&&"single"!==o.quoteStyle&&"double"!==o.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(qn(o,"maxStringLength")&&("number"==typeof o.maxStringLength?o.maxStringLength<0&&o.maxStringLength!==1/0:null!==o.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var s=!qn(o,"customInspect")||o.customInspect;if("boolean"!=typeof s&&"symbol"!==s)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(qn(o,"indent")&&null!==o.indent&&"\t"!==o.indent&&!(parseInt(o.indent,10)===o.indent&&o.indent>0))throw new TypeError('options "indent" must be "\\t", an integer > 0, or `null`');if(void 0===e)return"undefined";if(null===e)return"null";if("boolean"==typeof e)return e?"true":"false";if("string"==typeof e)return Ln(e,o);if("number"==typeof e)return 0===e?1/0/e>0?"0":"-0":String(e);if("bigint"==typeof e)return String(e)+"n";var a=void 0===o.depth?5:o.depth;if(void 0===n&&(n=0),n>=a&&a>0&&"object"==typeof e)return Dn(e)?"[Array]":"[Object]";var c=function(t,e){var r;if("\t"===t.indent)r="\t";else{if(!("number"==typeof t.indent&&t.indent>0))return null;r=Array(t.indent+1).join(" ")}return{base:r,prev:Array(e+1).join(r)}}(o,n);if(void 0===i)i=[];else if(zn(i,e)>=0)return"[Circular]";function u(e,r,s){if(r&&(i=i.slice()).push(r),s){var a={depth:o.depth};return qn(o,"quoteStyle")&&(a.quoteStyle=o.quoteStyle),t(e,a,n+1,i)}return t(e,o,n+1,i)}if("function"==typeof e){var p=function(t){if(t.name)return t.name;var e=Sn.call(On.call(t),/^function\s*([\w$]+)/);if(e)return e[1];return null}(e),l=Vn(e,u);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(l.length>0?" { "+l.join(", ")+" }":"")}if(Cn(e)){var f=Pn?String(e).replace(/^(Symbol\(.*\))_[^)]*$/,"$1"):En.call(e);return"object"!=typeof e||Pn?f:Hn(f)}if(function(t){if(!t||"object"!=typeof t)return!1;if("undefined"!=typeof HTMLElement&&t instanceof HTMLElement)return!0;return"string"==typeof t.nodeName&&"function"==typeof t.getAttribute}(e)){for(var h="<"+String(e.nodeName).toLowerCase(),y=e.attributes||[],m=0;m<y.length;m++)h+=" "+y[m].name+"="+Fn(Nn(y[m].value),"double",o);return h+=">",e.childNodes&&e.childNodes.length&&(h+="..."),h+="</"+String(e.nodeName).toLowerCase()+">"}if(Dn(e)){if(0===e.length)return"[]";var d=Vn(e,u);return c&&!function(t){for(var e=0;e<t.length;e++)if(zn(t[e],"\n")>=0)return!1;return!0}(d)?"["+Kn(d,c)+"]":"[ "+d.join(", ")+" ]"}if(function(t){return!("[object Error]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}(e)){var v=Vn(e,u);return 0===v.length?"["+String(e)+"]":"{ ["+String(e)+"] "+v.join(", ")+" }"}if("object"==typeof e&&s){if(Mn&&"function"==typeof e[Mn])return e[Mn]();if("symbol"!==s&&"function"==typeof e.inspect)return e.inspect()}if(function(t){if(!hn||!t||"object"!=typeof t)return!1;try{hn.call(t);try{vn.call(t)}catch(h){return!0}return t instanceof Map}catch(Yi){}return!1}(e)){var g=[];return yn.call(e,(function(t,r){g.push(u(r,e,!0)+" => "+u(t,e))})),Gn("Map",hn.call(e),g,c)}if(function(t){if(!vn||!t||"object"!=typeof t)return!1;try{vn.call(t);try{hn.call(t)}catch(e){return!0}return t instanceof Set}catch(Yi){}return!1}(e)){var b=[];return gn.call(e,(function(t){b.push(u(t,e))})),Gn("Set",vn.call(e),b,c)}if(function(t){if(!bn||!t||"object"!=typeof t)return!1;try{bn.call(t,bn);try{wn.call(t,wn)}catch(h){return!0}return t instanceof WeakMap}catch(Yi){}return!1}(e))return Jn("WeakMap");if(function(t){if(!wn||!t||"object"!=typeof t)return!1;try{wn.call(t,wn);try{bn.call(t,bn)}catch(h){return!0}return t instanceof WeakSet}catch(Yi){}return!1}(e))return Jn("WeakSet");if(function(t){if(!xn||!t||"object"!=typeof t)return!1;try{return xn.call(t),!0}catch(Yi){}return!1}(e))return Jn("WeakRef");if(function(t){return!("[object Number]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}(e))return Hn(u(Number(e)));if(function(t){if(!t||"object"!=typeof t||!_n)return!1;try{return _n.call(t),!0}catch(Yi){}return!1}(e))return Hn(u(_n.call(e)));if(function(t){return!("[object Boolean]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}(e))return Hn(jn.call(e));if(function(t){return!("[object String]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}(e))return Hn(u(String(e)));if(!function(t){return!("[object Date]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}(e)&&!function(t){return!("[object RegExp]"!==Un(t)||Rn&&"object"==typeof t&&Rn in t)}(e)){var w=Vn(e,u),x=In?In(e)===Object.prototype:e instanceof Object||e.constructor===Object,j=e instanceof Object?"":"null prototype",A=!x&&Rn&&Object(e)===e&&Rn in e?Un(e).slice(8,-1):j?"Object":"",O=(x||"function"!=typeof e.constructor?"":e.constructor.name?e.constructor.name+" ":"")+(A||j?"["+[].concat(A||[],j||[]).join(": ")+"] ":"");return 0===w.length?O+"{}":c?O+"{"+Kn(w,c)+"}":O+"{ "+w.join(", ")+" }"}return String(e)},ni=ti("%TypeError%"),ii=ti("%WeakMap%",!0),oi=ti("%Map%",!0),si=ei("WeakMap.prototype.get",!0),ai=ei("WeakMap.prototype.set",!0),ci=ei("WeakMap.prototype.has",!0),ui=ei("Map.prototype.get",!0),pi=ei("Map.prototype.set",!0),li=ei("Map.prototype.has",!0),fi=function(t,e){for(var r,n=t;null!==(r=n.next);n=r)if(r.key===e)return n.next=r.next,r.next=t.next,t.next=r,r},hi=String.prototype.replace,yi=/%20/g,mi="RFC3986",di={default:mi,formatters:{RFC1738:function(t){return hi.call(t,yi,"+")},RFC3986:function(t){return String(t)}},RFC1738:"RFC1738",RFC3986:mi},vi=di,gi=Object.prototype.hasOwnProperty,bi=Array.isArray,wi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),xi=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)void 0!==t[n]&&(r[n]=t[n]);return r},ji={arrayToObject:xi,assign:function(t,e){return Object.keys(e).reduce((function(t,r){return t[r]=e[r],t}),t)},combine:function(t,e){return[].concat(t,e)},compact:function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],o=i.obj[i.prop],s=Object.keys(o),a=0;a<s.length;++a){var c=s[a],u=o[c];"object"==typeof u&&null!==u&&-1===r.indexOf(u)&&(e.push({obj:o,prop:c}),r.push(u))}return function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(bi(r)){for(var n=[],i=0;i<r.length;++i)void 0!==r[i]&&n.push(r[i]);e.obj[e.prop]=n}}}(e),t},decode:function(t,e,r){var n=t.replace(/\+/g," ");if("iso-8859-1"===r)return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch(Yi){return n}},encode:function(t,e,r,n,i){if(0===t.length)return t;var o=t;if("symbol"==typeof t?o=Symbol.prototype.toString.call(t):"string"!=typeof t&&(o=String(t)),"iso-8859-1"===r)return escape(o).replace(/%u[0-9a-f]{4}/gi,(function(t){return"%26%23"+parseInt(t.slice(2),16)+"%3B"}));for(var s="",a=0;a<o.length;++a){var c=o.charCodeAt(a);45===c||46===c||95===c||126===c||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===vi.RFC1738&&(40===c||41===c)?s+=o.charAt(a):c<128?s+=wi[c]:c<2048?s+=wi[192|c>>6]+wi[128|63&c]:c<55296||c>=57344?s+=wi[224|c>>12]+wi[128|c>>6&63]+wi[128|63&c]:(c=65536+((1023&c)<<10|1023&o.charCodeAt(a+=1)),s+=wi[240|c>>18]+wi[128|c>>12&63]+wi[128|c>>6&63]+wi[128|63&c])}return s},isBuffer:function(t){return!(!t||"object"!=typeof t)&&!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},isRegExp:function(t){return"[object RegExp]"===Object.prototype.toString.call(t)},maybeMap:function(t,e){if(bi(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},merge:function t(e,r,n){if(!r)return e;if("object"!=typeof r){if(bi(e))e.push(r);else{if(!e||"object"!=typeof e)return[e,r];(n&&(n.plainObjects||n.allowPrototypes)||!gi.call(Object.prototype,r))&&(e[r]=!0)}return e}if(!e||"object"!=typeof e)return[e].concat(r);var i=e;return bi(e)&&!bi(r)&&(i=xi(e,n)),bi(e)&&bi(r)?(r.forEach((function(r,i){if(gi.call(e,i)){var o=e[i];o&&"object"==typeof o&&r&&"object"==typeof r?e[i]=t(o,r,n):e.push(r)}else e[i]=r})),e):Object.keys(r).reduce((function(e,i){var o=r[i];return e[i]=gi.call(e,i)?t(e[i],o,n):o,e}),i)}},Ai=function(){var t,e,r,n={assert:function(t){if(!n.has(t))throw new ni("Side channel does not contain "+ri(t))},get:function(n){if(ii&&n&&("object"==typeof n||"function"==typeof n)){if(t)return si(t,n)}else if(oi){if(e)return ui(e,n)}else if(r)return function(t,e){var r=fi(t,e);return r&&r.value}(r,n)},has:function(n){if(ii&&n&&("object"==typeof n||"function"==typeof n)){if(t)return ci(t,n)}else if(oi){if(e)return li(e,n)}else if(r)return function(t,e){return!!fi(t,e)}(r,n);return!1},set:function(n,i){ii&&n&&("object"==typeof n||"function"==typeof n)?(t||(t=new ii),ai(t,n,i)):oi?(e||(e=new oi),pi(e,n,i)):(r||(r={key:{},next:null}),function(t,e,r){var n=fi(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}}(r,n,i))}};return n},Oi=ji,Si=di,_i=Object.prototype.hasOwnProperty,ki={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Ei=Array.isArray,Pi=String.prototype.split,Ri=Array.prototype.push,$i=function(t,e){Ri.apply(t,Ei(e)?e:[e])},Ii=Date.prototype.toISOString,Ti=Si.default,Mi={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:Oi.encode,encodeValuesOnly:!1,format:Ti,formatter:Si.formatters[Ti],indices:!1,serializeDate:function(t){return Ii.call(t)},skipNulls:!1,strictNullHandling:!1},Fi={},Ni=function t(e,r,n,i,o,s,a,c,u,p,l,f,h,y,m){for(var d,v=e,g=m,b=0,w=!1;void 0!==(g=g.get(Fi))&&!w;){var x=g.get(e);if(b+=1,void 0!==x){if(x===b)throw new RangeError("Cyclic object value");w=!0}void 0===g.get(Fi)&&(b=0)}if("function"==typeof a?v=a(r,v):v instanceof Date?v=p(v):"comma"===n&&Ei(v)&&(v=Oi.maybeMap(v,(function(t){return t instanceof Date?p(t):t}))),null===v){if(i)return s&&!h?s(r,Mi.encoder,y,"key",l):r;v=""}if("string"==typeof(d=v)||"number"==typeof d||"boolean"==typeof d||"symbol"==typeof d||"bigint"==typeof d||Oi.isBuffer(v)){if(s){var j=h?r:s(r,Mi.encoder,y,"key",l);if("comma"===n&&h){for(var A=Pi.call(String(v),","),O="",S=0;S<A.length;++S)O+=(0===S?"":",")+f(s(A[S],Mi.encoder,y,"value",l));return[f(j)+"="+O]}return[f(j)+"="+f(s(v,Mi.encoder,y,"value",l))]}return[f(r)+"="+f(String(v))]}var _,k=[];if(void 0===v)return k;if("comma"===n&&Ei(v))_=[{value:v.length>0?v.join(",")||null:void 0}];else if(Ei(a))_=a;else{var E=Object.keys(v);_=c?E.sort(c):E}for(var P=0;P<_.length;++P){var R=_[P],$="object"==typeof R&&void 0!==R.value?R.value:v[R];if(!o||null!==$){var I=Ei(v)?"function"==typeof n?n(r,R):r:r+(u?"."+R:"["+R+"]");m.set(e,b);var T=Ai();T.set(Fi,m),$i(k,t($,I,n,i,o,s,a,c,u,p,l,f,h,y,T))}}return k},Di=ji,Ci=Object.prototype.hasOwnProperty,Wi=Array.isArray,qi={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Di.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},Ui=function(t){return t.replace(/&#(\d+);/g,(function(t,e){return String.fromCharCode(parseInt(e,10))}))},zi=function(t,e){return t&&"string"==typeof t&&e.comma&&t.indexOf(",")>-1?t.split(","):t},Li=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,o=/(\[[^[\]]*])/g,s=r.depth>0&&/(\[[^[\]]*])/.exec(i),a=s?i.slice(0,s.index):i,c=[];if(a){if(!r.plainObjects&&Ci.call(Object.prototype,a)&&!r.allowPrototypes)return;c.push(a)}for(var u=0;r.depth>0&&null!==(s=o.exec(i))&&u<r.depth;){if(u+=1,!r.plainObjects&&Ci.call(Object.prototype,s[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(s[1])}return s&&c.push("["+i.slice(s.index)+"]"),function(t,e,r,n){for(var i=n?e:zi(e,r),o=t.length-1;o>=0;--o){var s,a=t[o];if("[]"===a&&r.parseArrays)s=[].concat(i);else{s=r.plainObjects?Object.create(null):{};var c="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,u=parseInt(c,10);r.parseArrays||""!==c?!isNaN(u)&&a!==c&&String(u)===c&&u>=0&&r.parseArrays&&u<=r.arrayLimit?(s=[])[u]=i:s[c]=i:s={0:i}}i=s}return i}(c,e,r,n)}},Bi=function(t,e){var r,n=t,i=function(t){if(!t)return Mi;if(null!=t.encoder&&"function"!=typeof t.encoder)throw new TypeError("Encoder has to be a function.");var e=t.charset||Mi.charset;if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Si.default;if(void 0!==t.format){if(!_i.call(Si.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=Si.formatters[r],i=Mi.filter;return("function"==typeof t.filter||Ei(t.filter))&&(i=t.filter),{addQueryPrefix:"boolean"==typeof t.addQueryPrefix?t.addQueryPrefix:Mi.addQueryPrefix,allowDots:void 0===t.allowDots?Mi.allowDots:!!t.allowDots,charset:e,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:Mi.charsetSentinel,delimiter:void 0===t.delimiter?Mi.delimiter:t.delimiter,encode:"boolean"==typeof t.encode?t.encode:Mi.encode,encoder:"function"==typeof t.encoder?t.encoder:Mi.encoder,encodeValuesOnly:"boolean"==typeof t.encodeValuesOnly?t.encodeValuesOnly:Mi.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:"function"==typeof t.serializeDate?t.serializeDate:Mi.serializeDate,skipNulls:"boolean"==typeof t.skipNulls?t.skipNulls:Mi.skipNulls,sort:"function"==typeof t.sort?t.sort:null,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:Mi.strictNullHandling}}(e);"function"==typeof i.filter?n=(0,i.filter)("",n):Ei(i.filter)&&(r=i.filter);var o=[];if("object"!=typeof n||null===n)return"";var s=ki[e&&e.arrayFormat in ki?e.arrayFormat:e&&"indices"in e?e.indices?"indices":"repeat":"indices"];r||(r=Object.keys(n)),i.sort&&r.sort(i.sort);for(var a=Ai(),c=0;c<r.length;++c){var u=r[c];i.skipNulls&&null===n[u]||$i(o,Ni(n[u],u,s,i.strictNullHandling,i.skipNulls,i.encode?i.encoder:null,i.filter,i.sort,i.allowDots,i.serializeDate,i.format,i.formatter,i.encodeValuesOnly,i.charset,a))}var p=o.join(i.delimiter),l=!0===i.addQueryPrefix?"?":"";return i.charsetSentinel&&(l+="iso-8859-1"===i.charset?"utf8=%26%2310003%3B&":"utf8=%E2%9C%93&"),p.length>0?l+p:""},Hi=function(t,e){var r=function(t){if(!t)return qi;if(null!=t.decoder&&"function"!=typeof t.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==t.charset&&"utf-8"!==t.charset&&"iso-8859-1"!==t.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");return{allowDots:void 0===t.allowDots?qi.allowDots:!!t.allowDots,allowPrototypes:"boolean"==typeof t.allowPrototypes?t.allowPrototypes:qi.allowPrototypes,allowSparse:"boolean"==typeof t.allowSparse?t.allowSparse:qi.allowSparse,arrayLimit:"number"==typeof t.arrayLimit?t.arrayLimit:qi.arrayLimit,charset:void 0===t.charset?qi.charset:t.charset,charsetSentinel:"boolean"==typeof t.charsetSentinel?t.charsetSentinel:qi.charsetSentinel,comma:"boolean"==typeof t.comma?t.comma:qi.comma,decoder:"function"==typeof t.decoder?t.decoder:qi.decoder,delimiter:"string"==typeof t.delimiter||Di.isRegExp(t.delimiter)?t.delimiter:qi.delimiter,depth:"number"==typeof t.depth||!1===t.depth?+t.depth:qi.depth,ignoreQueryPrefix:!0===t.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof t.interpretNumericEntities?t.interpretNumericEntities:qi.interpretNumericEntities,parameterLimit:"number"==typeof t.parameterLimit?t.parameterLimit:qi.parameterLimit,parseArrays:!1!==t.parseArrays,plainObjects:"boolean"==typeof t.plainObjects?t.plainObjects:qi.plainObjects,strictNullHandling:"boolean"==typeof t.strictNullHandling?t.strictNullHandling:qi.strictNullHandling}}(e);if(""===t||null==t)return r.plainObjects?Object.create(null):{};for(var n="string"==typeof t?function(t,e){var r,n={},i=(e.ignoreQueryPrefix?t.replace(/^\?/,""):t).split(e.delimiter,e.parameterLimit===1/0?void 0:e.parameterLimit),o=-1,s=e.charset;if(e.charsetSentinel)for(r=0;r<i.length;++r)0===i[r].indexOf("utf8=")&&("utf8=%E2%9C%93"===i[r]?s="utf-8":"utf8=%26%2310003%3B"===i[r]&&(s="iso-8859-1"),o=r,r=i.length);for(r=0;r<i.length;++r)if(r!==o){var a,c,u=i[r],p=u.indexOf("]="),l=-1===p?u.indexOf("="):p+1;-1===l?(a=e.decoder(u,qi.decoder,s,"key"),c=e.strictNullHandling?null:""):(a=e.decoder(u.slice(0,l),qi.decoder,s,"key"),c=Di.maybeMap(zi(u.slice(l+1),e),(function(t){return e.decoder(t,qi.decoder,s,"value")}))),c&&e.interpretNumericEntities&&"iso-8859-1"===s&&(c=Ui(c)),u.indexOf("[]=")>-1&&(c=Wi(c)?[c]:c),n[a]=Ci.call(n,a)?Di.combine(n[a],c):c}return n}(t,r):t,i=r.plainObjects?Object.create(null):{},o=Object.keys(n),s=0;s<o.length;++s){var a=o[s],c=Li(a,n[a],r,"string"==typeof t);i=Di.merge(i,c,r)}return!0===r.allowSparse?i:Di.compact(i)},Ji={formats:di,parse:Hi,stringify:Bi};class Gi{constructor(t){Qn.set(this,void 0),u(this,Qn,new Headers(t),"f")}make(){return c(this,Qn,"f")}toObject(){let t={};return c(this,Qn,"f").forEach(((e,r)=>t[r]=e)),t}append(t,e){return c(this,Qn,"f").append(t,e),this}delete(t){return c(this,Qn,"f").delete(t),this}has(t){return c(this,Qn,"f").has(t)}get(t){return c(this,Qn,"f").get(t)}set(t,e){return c(this,Qn,"f").set(t,e),this}Accept(t){return this.set("Accept",t),this}ContentType(t){return this.set("Content-Type",t),this}IfNoneMatch(t){return this.set("If-None-Match",t),this}basic(t,e){return this.authorization("Basic",btoa(t+":"+e))}bearer(t){return this.authorization("Bearer",t)}authorization(t,e){return this.set("Authorization",t+" "+e),this}merge(t){return Object.entries(t).forEach((([t,e])=>{this.set(t,e)})),this}forEach(t,e){c(this,Qn,"f").forEach(t)}}function Ki(t,e=Request){return new Vi(t,e)}Qn=new WeakMap;class Vi{constructor(t,e){return this._clientConfig=t,this._Request=e,this._config={},this._params={},this._headers=new Gi,new Proxy(this,{get:(t,e,r)=>Reflect.has(t,e)?Reflect.get(t,e,r):r=>(t._config[e]=r,t),set:(t,e,r,n)=>"function"==typeof t[e]?t[e](r):Reflect.set(t,e,r,n)})}getConfig(){return"json"===this._config.responseType&&(this._headers.has("Accept")||this._headers.set("Accept","application/json")),Object.assign(Object.assign({},this._config),{headers:this._headers,url:this._config.url?this.getUri(this._config.url):this._config.url})}hasParams(){return Object.keys(this._params).length>0}stringifyParams(t={}){return Ji.stringify(this._params,Object.assign(Object.assign({},t),{arrayFormat:"indices"}))}getUri(t){let e="";return this.hasParams()&&(e=this.stringifyParams({addQueryPrefix:!0})),Ae.ensureRight(this._clientConfig.baseURL,"/")+Ae.stripLeft(t,"/")+e}merge(t){return Object.entries(t).forEach((([t,e])=>this[t](e))),this}header(t,e){return this._headers.set(t,e),this}param(t,e){return this._params[t]=e,this}headers(t){return this._headers.merge(t),this}params(t){return this._params=je.all([this._params,t]),this}data(t){return this._headers.set("Content-Type","application/json"),this._config.body=JSON.stringify(t),this}basic(t,e){return this._headers.basic(t,e)}bearer(t){return this._headers.bearer(t)}authorization(t,e){return this._headers.authorization(t,e),this}make(){const t=this.getConfig();let e=new this._Request(t.url,t);return e.config=t,e}}class Qi{constructor(t){this.hooks={createRequest:new xr(["factory"]),request:new xr(["request"]),response:new jr(["response","request"]),error:new wr(["error","response"])},this.config=je({headers:{"X-Requested-With":"XMLHttpRequest"},request:{method:"GET",credentials:"include",errorHandling:"throw"}},t),this.headers=new Gi(this.config.headers)}request(t,e,r={}){return a(this,void 0,void 0,(function*(){r=this.mergeRequestConfig(r,{method:t,url:e});let n=this.createRequest(r);return this.fetch(n)}))}fetch(t){return a(this,void 0,void 0,(function*(){t=this.hooks.request.call(t);let e=yield fetch(t),r=yield function(t,e,r){return a(this,void 0,void 0,(function*(){const n=t.clone(),i=Object.getPrototypeOf(n),o=n.headers;if(delete i.headers,i.headers=new Gi(o),n.request=e,n.config=r,n.data=yield function(t,e){return a(this,void 0,void 0,(function*(){try{if(e.responseType)switch(e.responseType){case"blob":return yield t.blob();case"arraybuffer":return yield t.arrayBuffer();case"document":case"text":return yield t.text();case"json":return yield t.json();case"stream":return(yield t.blob()).stream()}return"application/json"===t.headers.get("content-type")?t.json():t.text()}catch(Yi){return{}}}))}(t,r),!t.ok){try{n.errorText=yield t.text()}catch(Yi){n.errorText=""}n.error=new Ar(n)}return n}))}(e,t,t.config);if(r=yield this.hooks.response.promise(r,t),r.error&&(this.hooks.error.call(r.error,r),"throw"===t.config.errorHandling))throw r.error;return r}))}createRequestFactory(){return Ki(this.config).headers(this.config.headers)}createRequest(t={}){let e=Ki(this.config).merge(t);return e.headers(this.headers.make()),this.hooks.createRequest.call(e).make()}mergeRequestConfig(...t){return je.all([this.config.request,...t||[]],{clone:!0})}}class Xi{constructor(t){this.hooks={all:new jr(["data"]),make:new jr(["data"]),maked:new wr(["stream"]),create:new jr(["data"]),created:new wr(["stream"])},Xn.set(this,void 0),Yn.set(this,void 0),this.config=Object.assign({Client:Qi,Http:Me},t)}get http(){return c(this,Xn,"f")||u(this,Xn,new this.config.Http(this),"f"),c(this,Xn,"f")}get client(){return c(this,Yn,"f")||u(this,Yn,new this.config.Client(this.config),"f"),c(this,Yn,"f")}all(){return a(this,void 0,void 0,(function*(){const t=yield this.http.getStreams(),e=[];for(let r of t.data.data){r=yield this.hooks.all.promise(r);const n=new Te(this,r,t.data.meta,t.data.links);e.push(n)}return e}))}make(t){return a(this,void 0,void 0,(function*(){let e=yield this.http.getStream(t);e.data=yield this.hooks.make.promise(e.data);const{data:r,meta:n,links:i}=e.data,o=new Te(this,r,n,i);return this.hooks.maked.call(o),o}))}create(t,e){return a(this,void 0,void 0,(function*(){let r=yield this.http.postStream(Object.assign({id:t,name:t},e));r.data=yield this.hooks.create.promise(r.data);const{data:n,meta:i,links:o}=r.data,s=new Te(this,n,i,o);return this.hooks.created.call(s),s}))}entries(t){return a(this,void 0,void 0,(function*(){const e=yield this.make(t);return new fe(e)}))}repository(t){return a(this,void 0,void 0,(function*(){const e=yield this.make(t);return new he(e)}))}collection(){return a(this,void 0,void 0,(function*(){return new oe(yield this.all())}))}}Xn=new WeakMap,Yn=new WeakMap,t.Method=void 0,(Zn=t.Method||(t.Method={})).connect="CONNECT",Zn.delete="DELETE",Zn.get="GET",Zn.head="HEAD",Zn.options="OPTIONS",Zn.patch="PATCH",Zn.post="POST",Zn.put="PUT",Zn.trace="TRACE";return t.Client=Qi,t.Collection=oe,t.Criteria=fe,t.Entry=m,t.EntryCollection=se,t.Field=l,t.FieldCollection=Se,t.HTTPError=Ar,t.Http=Me,t.PaginatedEntryCollection=ae,t.Repository=he,t.RequestFactory=Vi,t.Str=Ae,t.Stream=Te,t.Streams=Xi,t.comparisonOperators=ce,t.createRequestFactory=Ki,t.default=Xi,t.isFieldData=p,t.isIField=t=>t&&t instanceof l,t.logicalOperators=ue,t.mergeHeaders=function(t,e){return new Headers(t).forEach(((t,r)=>e.set(r,t))),e},t.mimes={"application/andrew-inset":["ez"],"application/applixware":["aw"],"application/atom+xml":["atom"],"application/atomcat+xml":["atomcat"],"application/atomdeleted+xml":["atomdeleted"],"application/atomsvc+xml":["atomsvc"],"application/atsc-dwd+xml":["dwd"],"application/atsc-held+xml":["held"],"application/atsc-rsat+xml":["rsat"],"application/bdoc":["bdoc"],"application/calendar+xml":["xcs"],"application/ccxml+xml":["ccxml"],"application/cdfx+xml":["cdfx"],"application/cdmi-capability":["cdmia"],"application/cdmi-container":["cdmic"],"application/cdmi-domain":["cdmid"],"application/cdmi-object":["cdmio"],"application/cdmi-queue":["cdmiq"],"application/cu-seeme":["cu"],"application/dash+xml":["mpd"],"application/davmount+xml":["davmount"],"application/docbook+xml":["dbk"],"application/dssc+der":["dssc"],"application/dssc+xml":["xdssc"],"application/ecmascript":["es","ecma"],"application/emma+xml":["emma"],"application/emotionml+xml":["emotionml"],"application/epub+zip":["epub"],"application/exi":["exi"],"application/express":["exp"],"application/fdt+xml":["fdt"],"application/font-tdpfr":["pfr"],"application/geo+json":["geojson"],"application/gml+xml":["gml"],"application/gpx+xml":["gpx"],"application/gxf":["gxf"],"application/gzip":["gz"],"application/hjson":["hjson"],"application/hyperstudio":["stk"],"application/inkml+xml":["ink","inkml"],"application/ipfix":["ipfix"],"application/its+xml":["its"],"application/java-archive":["jar","war","ear"],"application/java-serialized-object":["ser"],"application/java-vm":["class"],"application/javascript":["js","mjs"],"application/json":["json","map"],"application/json5":["json5"],"application/jsonml+json":["jsonml"],"application/ld+json":["jsonld"],"application/lgr+xml":["lgr"],"application/lost+xml":["lostxml"],"application/mac-binhex40":["hqx"],"application/mac-compactpro":["cpt"],"application/mads+xml":["mads"],"application/manifest+json":["webmanifest"],"application/marc":["mrc"],"application/marcxml+xml":["mrcx"],"application/mathematica":["ma","nb","mb"],"application/mathml+xml":["mathml"],"application/mbox":["mbox"],"application/mediaservercontrol+xml":["mscml"],"application/metalink+xml":["metalink"],"application/metalink4+xml":["meta4"],"application/mets+xml":["mets"],"application/mmt-aei+xml":["maei"],"application/mmt-usd+xml":["musd"],"application/mods+xml":["mods"],"application/mp21":["m21","mp21"],"application/mp4":["mp4s","m4p"],"application/msword":["doc","dot"],"application/mxf":["mxf"],"application/n-quads":["nq"],"application/n-triples":["nt"],"application/node":["cjs"],"application/octet-stream":["bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy","exe","dll","deb","dmg","iso","img","msi","msp","msm","buffer"],"application/oda":["oda"],"application/oebps-package+xml":["opf"],"application/ogg":["ogx"],"application/omdoc+xml":["omdoc"],"application/onenote":["onetoc","onetoc2","onetmp","onepkg"],"application/oxps":["oxps"],"application/p2p-overlay+xml":["relo"],"application/patch-ops-error+xml":["xer"],"application/pdf":["pdf"],"application/pgp-encrypted":["pgp"],"application/pgp-signature":["asc","sig"],"application/pics-rules":["prf"],"application/pkcs10":["p10"],"application/pkcs7-mime":["p7m","p7c"],"application/pkcs7-signature":["p7s"],"application/pkcs8":["p8"],"application/pkix-attr-cert":["ac"],"application/pkix-cert":["cer"],"application/pkix-crl":["crl"],"application/pkix-pkipath":["pkipath"],"application/pkixcmp":["pki"],"application/pls+xml":["pls"],"application/postscript":["ai","eps","ps"],"application/provenance+xml":["provx"],"application/pskc+xml":["pskcxml"],"application/raml+yaml":["raml"],"application/rdf+xml":["rdf","owl"],"application/reginfo+xml":["rif"],"application/relax-ng-compact-syntax":["rnc"],"application/resource-lists+xml":["rl"],"application/resource-lists-diff+xml":["rld"],"application/rls-services+xml":["rs"],"application/route-apd+xml":["rapd"],"application/route-s-tsid+xml":["sls"],"application/route-usd+xml":["rusd"],"application/rpki-ghostbusters":["gbr"],"application/rpki-manifest":["mft"],"application/rpki-roa":["roa"],"application/rsd+xml":["rsd"],"application/rss+xml":["rss"],"application/rtf":["rtf"],"application/sbml+xml":["sbml"],"application/scvp-cv-request":["scq"],"application/scvp-cv-response":["scs"],"application/scvp-vp-request":["spq"],"application/scvp-vp-response":["spp"],"application/sdp":["sdp"],"application/senml+xml":["senmlx"],"application/sensml+xml":["sensmlx"],"application/set-payment-initiation":["setpay"],"application/set-registration-initiation":["setreg"],"application/shf+xml":["shf"],"application/sieve":["siv","sieve"],"application/smil+xml":["smi","smil"],"application/sparql-query":["rq"],"application/sparql-results+xml":["srx"],"application/srgs":["gram"],"application/srgs+xml":["grxml"],"application/sru+xml":["sru"],"application/ssdl+xml":["ssdl"],"application/ssml+xml":["ssml"],"application/swid+xml":["swidtag"],"application/tei+xml":["tei","teicorpus"],"application/thraud+xml":["tfi"],"application/timestamped-data":["tsd"],"application/toml":["toml"],"application/trig":["trig"],"application/ttml+xml":["ttml"],"application/ubjson":["ubj"],"application/urc-ressheet+xml":["rsheet"],"application/urc-targetdesc+xml":["td"],"application/voicexml+xml":["vxml"],"application/wasm":["wasm"],"application/widget":["wgt"],"application/winhlp":["hlp"],"application/wsdl+xml":["wsdl"],"application/wspolicy+xml":["wspolicy"],"application/xaml+xml":["xaml"],"application/xcap-att+xml":["xav"],"application/xcap-caps+xml":["xca"],"application/xcap-diff+xml":["xdf"],"application/xcap-el+xml":["xel"],"application/xcap-ns+xml":["xns"],"application/xenc+xml":["xenc"],"application/xhtml+xml":["xhtml","xht"],"application/xliff+xml":["xlf"],"application/xml":["xml","xsl","xsd","rng"],"application/xml-dtd":["dtd"],"application/xop+xml":["xop"],"application/xproc+xml":["xpl"],"application/xslt+xml":["*xsl","xslt"],"application/xspf+xml":["xspf"],"application/xv+xml":["mxml","xhvml","xvml","xvm"],"application/yang":["yang"],"application/yin+xml":["yin"],"application/zip":["zip"],"audio/3gpp":["*3gpp"],"audio/adpcm":["adp"],"audio/amr":["amr"],"audio/basic":["au","snd"],"audio/midi":["mid","midi","kar","rmi"],"audio/mobile-xmf":["mxmf"],"audio/mp3":["*mp3"],"audio/mp4":["m4a","mp4a"],"audio/mpeg":["mpga","mp2","mp2a","mp3","m2a","m3a"],"audio/ogg":["oga","ogg","spx","opus"],"audio/s3m":["s3m"],"audio/silk":["sil"],"audio/wav":["wav"],"audio/wave":["*wav"],"audio/webm":["weba"],"audio/xm":["xm"],"font/collection":["ttc"],"font/otf":["otf"],"font/ttf":["ttf"],"font/woff":["woff"],"font/woff2":["woff2"],"image/aces":["exr"],"image/apng":["apng"],"image/avif":["avif"],"image/bmp":["bmp"],"image/cgm":["cgm"],"image/dicom-rle":["drle"],"image/emf":["emf"],"image/fits":["fits"],"image/g3fax":["g3"],"image/gif":["gif"],"image/heic":["heic"],"image/heic-sequence":["heics"],"image/heif":["heif"],"image/heif-sequence":["heifs"],"image/hej2k":["hej2"],"image/hsj2":["hsj2"],"image/ief":["ief"],"image/jls":["jls"],"image/jp2":["jp2","jpg2"],"image/jpeg":["jpeg","jpg","jpe"],"image/jph":["jph"],"image/jphc":["jhc"],"image/jpm":["jpm"],"image/jpx":["jpx","jpf"],"image/jxr":["jxr"],"image/jxra":["jxra"],"image/jxrs":["jxrs"],"image/jxs":["jxs"],"image/jxsc":["jxsc"],"image/jxsi":["jxsi"],"image/jxss":["jxss"],"image/ktx":["ktx"],"image/ktx2":["ktx2"],"image/png":["png"],"image/sgi":["sgi"],"image/svg+xml":["svg","svgz"],"image/t38":["t38"],"image/tiff":["tif","tiff"],"image/tiff-fx":["tfx"],"image/webp":["webp"],"image/wmf":["wmf"],"message/disposition-notification":["disposition-notification"],"message/global":["u8msg"],"message/global-delivery-status":["u8dsn"],"message/global-disposition-notification":["u8mdn"],"message/global-headers":["u8hdr"],"message/rfc822":["eml","mime"],"model/3mf":["3mf"],"model/gltf+json":["gltf"],"model/gltf-binary":["glb"],"model/iges":["igs","iges"],"model/mesh":["msh","mesh","silo"],"model/mtl":["mtl"],"model/obj":["obj"],"model/step+xml":["stpx"],"model/step+zip":["stpz"],"model/step-xml+zip":["stpxz"],"model/stl":["stl"],"model/vrml":["wrl","vrml"],"model/x3d+binary":["*x3db","x3dbz"],"model/x3d+fastinfoset":["x3db"],"model/x3d+vrml":["*x3dv","x3dvz"],"model/x3d+xml":["x3d","x3dz"],"model/x3d-vrml":["x3dv"],"text/cache-manifest":["appcache","manifest"],"text/calendar":["ics","ifb"],"text/coffeescript":["coffee","litcoffee"],"text/css":["css"],"text/csv":["csv"],"text/html":["html","htm","shtml"],"text/jade":["jade"],"text/jsx":["jsx"],"text/less":["less"],"text/markdown":["markdown","md"],"text/mathml":["mml"],"text/mdx":["mdx"],"text/n3":["n3"],"text/plain":["txt","text","conf","def","list","log","in","ini"],"text/richtext":["rtx"],"text/rtf":["*rtf"],"text/sgml":["sgml","sgm"],"text/shex":["shex"],"text/slim":["slim","slm"],"text/spdx":["spdx"],"text/stylus":["stylus","styl"],"text/tab-separated-values":["tsv"],"text/troff":["t","tr","roff","man","me","ms"],"text/turtle":["ttl"],"text/uri-list":["uri","uris","urls"],"text/vcard":["vcard"],"text/vtt":["vtt"],"text/xml":["*xml"],"text/yaml":["yaml","yml"],"video/3gpp":["3gp","3gpp"],"video/3gpp2":["3g2"],"video/h261":["h261"],"video/h263":["h263"],"video/h264":["h264"],"video/iso.segment":["m4s"],"video/jpeg":["jpgv"],"video/jpm":["*jpm","jpgm"],"video/mj2":["mj2","mjp2"],"video/mp2t":["ts"],"video/mp4":["mp4","mp4v","mpg4"],"video/mpeg":["mpeg","mpg","mpe","m1v","m2v"],"video/ogg":["ogv"],"video/quicktime":["qt","mov"],"video/webm":["webm"]},t.objectify=Oe,t.operators=pe,Object.defineProperty(t,"__esModule",{value:!0}),t}({},require$$0);
